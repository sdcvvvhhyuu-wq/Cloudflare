// <!--GAMFC-->version base on commit: 637e8cbca2858aaf65c6d76a66ec48c3b091676f - last update: 2025-12-13 06:02:16 UTC <!--GAMFC-END-->.

import{connect}from'cloudflare:sockets';const Config={'userID':'d342d11e-d424-4583-b36e-524ab1f0afa4','proxyIPs':['nima.nscl.ir:443','bpb.yousef.isegaro.com:443'],'scamalytics':{'username':'victoriacrossn','apiKey':'ed89b4fef21aba43c15cdd15cff2138dd8d3bbde5aaaa4690ad8e94990448516','baseUrl':'https://api12.scamalytics.com/v3/'},'socks5':{'enabled':![],'relayMode':![],'address':''},async 'fromEnv'(a){let b=null;if(a['DB'])try{const {results:f}=await a['DB']['prepare']('SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201')['all']();b=f[0x0]?.['ip_port']||null,b&&console['log']('‚úì\x20Using\x20best\x20healthy\x20proxy\x20from\x20DB:\x20'+b);}catch(g){console['error']('Failed\x20to\x20read\x20proxy\x20health\x20from\x20DB:\x20'+g['message']);}!b&&(b=a['PROXYIP'],b&&console['log']('‚úì\x20Using\x20proxy\x20from\x20env.PROXYIP:\x20'+b));!b&&(b=this['proxyIPs'][Math['floor'](Math['random']()*this['proxyIPs']['length'])],b&&console['log']('‚úì\x20Using\x20proxy\x20from\x20config\x20list:\x20'+b));!b&&(console['error']('CRITICAL:\x20No\x20proxy\x20IP\x20available'),b=this['proxyIPs'][0x0]);const [c,d='443']=b['split'](':');return{'userID':a['UUID']||this['userID'],'proxyIP':c,'proxyPort':parseInt(d,0xa),'proxyAddress':b,'scamalytics':{'username':a['SCAMALYTICS_USERNAME']||this['scamalytics']['username'],'apiKey':a['SCAMALYTICS_API_KEY']||this['scamalytics']['apiKey'],'baseUrl':a['SCAMALYTICS_BASEURL']||this['scamalytics']['baseUrl']},'socks5':{'enabled':!!a['SOCKS5'],'relayMode':a['SOCKS5_RELAY']==='true'||this['socks5']['relayMode'],'address':a['SOCKS5']||this['socks5']['address']}};}},CONST={'ED_PARAMS':{'ed':0xa00,'eh':'Sec-WebSocket-Protocol'},'VLESS_PROTOCOL':'vless','WS_READY_STATE_OPEN':0x1,'WS_READY_STATE_CLOSING':0x2,'ADMIN_LOGIN_FAIL_LIMIT':0x5,'ADMIN_LOGIN_LOCK_TTL':0x258,'SCAMALYTICS_THRESHOLD':0x32,'USER_PATH_RATE_LIMIT':0x14,'USER_PATH_RATE_TTL':0x3c,'AUTO_REFRESH_INTERVAL':0xea60,'IP_CLEANUP_AGE_DAYS':0x1e,'HEALTH_CHECK_INTERVAL':0x493e0,'HEALTH_CHECK_TIMEOUT':0x1388,'TRAFFIC_UPDATE_INTERVAL':0xbb8,'TRAFFIC_BATCH_SIZE':0x400*0x400};function generateNonce(){const a=new Uint8Array(0x10);return crypto['getRandomValues'](a),btoa(String['fromCharCode']['apply'](null,a));}function addSecurityHeaders(a,b,c={}){const d=b?'script-src\x20\x27self\x27\x20\x27nonce-'+b+'\x27\x20\x27unsafe-inline\x27\x20https://cdnjs.cloudflare.com\x20https://unpkg.com':'script-src\x20\x27self\x27\x20https://cdnjs.cloudflare.com\x20https://unpkg.com\x20\x27unsafe-inline\x27',e=['default-src\x20\x27self\x27','form-action\x20\x27self\x27','object-src\x20\x27none\x27','frame-ancestors\x20\x27none\x27','base-uri\x20\x27self\x27',d,'style-src\x20\x27self\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-hashes\x27',('img-src\x20\x27self\x27\x20data:\x20blob:\x20https:\x20'+(c['img']||''))['trim'](),('connect-src\x20\x27self\x27\x20https:\x20wss:\x20'+(c['connect']||''))['trim'](),'worker-src\x20\x27self\x27\x20blob:','child-src\x20\x27self\x27\x20blob:'];a['set']('Content-Security-Policy',e['join'](';\x20')),a['set']('Strict-Transport-Security','max-age=63072000;\x20includeSubDomains;\x20preload'),a['set']('X-Content-Type-Options','nosniff'),a['set']('X-Frame-Options','SAMEORIGIN'),a['set']('Referrer-Policy','strict-origin-when-cross-origin'),a['set']('Permissions-Policy','camera=(),\x20microphone=(),\x20geolocation=(),\x20payment=(),\x20usb=()'),a['set']('alt-svc','h3=\x22:443\x22;\x20ma=0'),a['set']('Cross-Origin-Opener-Policy','same-origin'),a['set']('Cross-Origin-Embedder-Policy','unsafe-none'),a['set']('Cross-Origin-Resource-Policy','cross-origin');}function timingSafeEqual(c,d){if(typeof c!=='string'||typeof d!=='string')return![];const e=c['length'],f=d['length'];let g=0x0;if(e!==f){for(let h=0x0;h<e;h++){g|=c['charCodeAt'](h)^c['charCodeAt'](h);}return![];}for(let j=0x0;j<e;j++){g|=c['charCodeAt'](j)^d['charCodeAt'](j);}return g===0x0;}function escapeHTML(a){if(typeof a!=='string')return'';return a['replace'](/[&<>"']/g,b=>({'&':'&amp;','<':'&lt;','>':'&gt;','\x22':'&quot;','\x27':'&#39;'}[b]));}function safeBase64Encode(a){try{const b=new TextEncoder(),c=b['encode'](a);let d='';for(let f=0x0;f<c['length'];f++){d+=String['fromCharCode'](c[f]);}return btoa(d)['replace'](/\+/g,'-')['replace'](/\//g,'_')['replace'](/=/g,'');}catch(g){return console['error']('Base64\x20encode\x20error:',g),btoa(unescape(encodeURIComponent(a)));}}function generateUUID(){return crypto['randomUUID']();}function isValidUUID(a){if(typeof a!=='string')return![];const b=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return b['test'](a);}function isExpired(a,b){if(!a||!b)return!![];const c=b['includes'](':')&&b['split'](':')['length']===0x2?b+':00':b,d=c['split']('.')[0x0],e=new Date(a+'T'+d+'Z');return e<=new Date()||isNaN(e['getTime']());}async function formatBytes(a){if(a===0x0)return'0\x20Bytes';const b=0x400,c=['Bytes','KB','MB','GB','TB'],d=Math['floor'](Math['log'](a)/Math['log'](b));return parseFloat((a/Math['pow'](b,d))['toFixed'](0x2))+'\x20'+c[d];}async function kvGet(a,b,c='text'){if(!a)return console['error']('kvGet:\x20Database\x20not\x20available\x20for\x20key\x20'+b),null;try{const d=a['prepare']('SELECT\x20value,\x20expiration\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b),f=await d['first']();if(!f)return null;if(f['expiration']&&f['expiration']<Math['floor'](Date['now']()/0x3e8))return await a['prepare']('DELETE\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b)['run'](),null;if(c==='json')try{return JSON['parse'](f['value']);}catch(g){return console['error']('Failed\x20to\x20parse\x20JSON\x20for\x20key\x20'+b+':\x20'+g),null;}return f['value'];}catch(h){return console['error']('kvGet\x20error\x20for\x20'+b+':\x20'+h),null;}}async function kvPut(a,b,c,d={}){if(!a){console['error']('kvPut:\x20Database\x20not\x20available\x20for\x20key\x20'+b);return;}try{typeof c==='object'&&(c=JSON['stringify'](c));const f=d['expirationTtl']?Math['floor'](Date['now']()/0x3e8+d['expirationTtl']):null;await a['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20key_value\x20(key,\x20value,\x20expiration)\x20VALUES\x20(?,\x20?,\x20?)')['bind'](b,c,f)['run']();}catch(g){console['error']('kvPut\x20error\x20for\x20'+b+':\x20'+g);}}async function kvDelete(a,b){if(!a){console['error']('kvDelete:\x20Database\x20not\x20available\x20for\x20key\x20'+b);return;}try{await a['prepare']('DELETE\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b)['run']();}catch(c){console['error']('kvDelete\x20error\x20for\x20'+b+':\x20'+c);}}async function getUserData(a,b,c){try{if(!isValidUUID(b))return null;if(!a['DB'])return console['error']('D1\x20binding\x20missing'),null;const d='user:'+b;try{const h=await kvGet(a['DB'],d,'json');if(h&&h['uuid'])return h;}catch(i){console['error']('Failed\x20to\x20get\x20cached\x20data\x20for\x20'+b,i);}const f=await a['DB']['prepare']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](b)['first']();if(!f)return null;const g=kvPut(a['DB'],d,f,{'expirationTtl':0xe10});return c?c['waitUntil'](g):await g,f;}catch(j){return console['error']('getUserData\x20error\x20for\x20'+b+':\x20'+j['message']),null;}}async function updateUsage(a,b,c,d){if(c<=0x0||!b)return;if(!a['DB']){console['error']('updateUsage:\x20D1\x20binding\x20missing');return;}const f='usage_lock:'+b;let g=![];try{const h=0x3;let i=0x0;while(!g&&i<h){const m=await kvGet(a['DB'],f);!m?(await kvPut(a['DB'],f,'locked',{'expirationTtl':0x5}),g=!![]):(await new Promise(n=>setTimeout(n,0x32)),i++);}const j=Math['round'](c),k=a['DB']['prepare']('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')['bind'](j,b)['run'](),l=kvDelete(a['DB'],'user:'+b);d?d['waitUntil'](Promise['all']([k,l])):await Promise['all']([k,l]);}catch(n){console['error']('Failed\x20to\x20update\x20usage\x20for\x20'+b+':',n);}finally{if(g)try{await kvDelete(a['DB'],f);}catch(o){console['error']('Failed\x20to\x20release\x20lock\x20for\x20'+b+':',o);}}}async function cleanupOldIps(a,b){if(!a['DB']){console['warn']('cleanupOldIps:\x20D1\x20binding\x20not\x20available');return;}try{const c=a['DB']['prepare']('DELETE\x20FROM\x20user_ips\x20WHERE\x20last_seen\x20<\x20datetime(\x27now\x27,\x20?)')['bind']('-'+CONST['IP_CLEANUP_AGE_DAYS']+'\x20days')['run']();b?b['waitUntil'](c):await c;}catch(d){console['error']('cleanupOldIps\x20error:\x20'+d['message']);}}async function isSuspiciousIP(a,b,c=CONST['SCAMALYTICS_THRESHOLD']){if(!b['username']||!b['apiKey'])return console['warn']('‚ö†Ô∏è\x20\x20Scamalytics\x20not\x20configured.\x20IP\x20'+a+'\x20allowed\x20(fail-open).'),![];const d=new AbortController(),f=setTimeout(()=>d['abort'](),0x1388);try{const g=b['baseUrl']+'score?username='+b['username']+'&ip='+a+'&key='+b['apiKey'],h=await fetch(g,{'signal':d['signal']});if(!h['ok'])return console['warn']('Scamalytics\x20API\x20returned\x20'+h['status']+'\x20for\x20'+a+'.\x20Allowing\x20(fail-open).'),![];const i=await h['json']();return i['score']>=c;}catch(j){return j['name']==='AbortError'?console['warn']('Scamalytics\x20timeout\x20for\x20'+a+'.\x20Allowing\x20(fail-open).'):console['error']('Scamalytics\x20error\x20for\x20'+a+':\x20'+j['message']+'.\x20Allowing\x20(fail-open).'),![];}finally{clearTimeout(f);}}function base32ToBuffer(a){const b='ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',c=a['toUpperCase']()['replace'](/=+$/,'');let d=0x0,e=0x0,f=0x0;const g=new Uint8Array(Math['floor'](c['length']*0x5/0x8));for(let h=0x0;h<c['length'];h++){const j=c[h],k=b['indexOf'](j);if(k===-0x1)throw new Error('Invalid\x20Base32\x20character');e=e<<0x5|k,d+=0x5,d>=0x8&&(g[f++]=e>>>d-0x8&0xff,d-=0x8);}return g['buffer'];}async function generateHOTP(a,b){const c=new ArrayBuffer(0x8),d=new DataView(c);d['setBigUint64'](0x0,BigInt(b),![]);const e=await crypto['subtle']['importKey']('raw',a,{'name':'HMAC','hash':'SHA-1'},![],['sign']),f=await crypto['subtle']['sign']('HMAC',e,c),g=new Uint8Array(f),h=g[g['length']-0x1]&0xf,i=(g[h]&0x7f)<<0x18|(g[h+0x1]&0xff)<<0x10|(g[h+0x2]&0xff)<<0x8|g[h+0x3]&0xff,j=i%0xf4240;return j['toString']()['padStart'](0x6,'0');}async function validateTOTP(a,b){if(!a||!b||b['length']!==0x6||!/^\d{6}$/['test'](b))return![];let c;try{c=base32ToBuffer(a);}catch(i){return console['error']('Failed\x20to\x20decode\x20TOTP\x20secret:',i['message']),![];}const d=0x1e,f=Math['floor'](Date['now']()/0x3e8),g=Math['floor'](f/d),h=[g,g-0x1,g+0x1];for(const j of h){const k=await generateHOTP(c,j);if(timingSafeEqual(b,k))return!![];}return![];}async function hashSHA256(a){const b=new TextEncoder(),c=b['encode'](a),d=await crypto['subtle']['digest']('SHA-256',c),e=Array['from'](new Uint8Array(d));return e['map'](f=>f['toString'](0x10)['padStart'](0x2,'0'))['join']('');}async function checkRateLimit(a,b,c,d){if(!a)return![];try{const f=await kvGet(a,b),g=parseInt(f,0xa)||0x0;if(g>=c)return!![];return await kvPut(a,b,(g+0x1)['toString'](),{'expirationTtl':d}),![];}catch(h){return console['error']('checkRateLimit\x20error\x20for\x20'+b+':\x20'+h),![];}}const byteToHex=Array['from']({'length':0x100},(a,b)=>(b+0x100)['toString'](0x10)['slice'](0x1));function unsafeStringify(a,b=0x0){return(byteToHex[a[b]]+byteToHex[a[b+0x1]]+byteToHex[a[b+0x2]]+byteToHex[a[b+0x3]]+'-'+byteToHex[a[b+0x4]]+byteToHex[a[b+0x5]]+'-'+byteToHex[a[b+0x6]]+byteToHex[a[b+0x7]]+'-'+byteToHex[a[b+0x8]]+byteToHex[a[b+0x9]]+'-'+byteToHex[a[b+0xa]]+byteToHex[a[b+0xb]]+byteToHex[a[b+0xc]]+byteToHex[a[b+0xd]]+byteToHex[a[b+0xe]]+byteToHex[a[b+0xf]])['toLowerCase']();}function stringify(a,b=0x0){const c=unsafeStringify(a,b);if(!isValidUUID(c))throw new TypeError('Stringified\x20UUID\x20is\x20invalid');return c;}function generateRandomPath(a=0xc){const b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let c='';for(let d=0x0;d<a;d++){c+=b['charAt'](Math['floor'](Math['random']()*b['length']));}return'/'+c;}const CORE_PRESETS={'xray':{'tls':{'path':()=>generateRandomPath(0xc),'security':'tls','fp':'chrome','alpn':'http/1.1','extra':{'ed':'2560'}},'tcp':{'path':()=>generateRandomPath(0xc),'security':'none','fp':'chrome','extra':{'ed':'2560'}}},'sb':{'tls':{'path':()=>generateRandomPath(0x12),'security':'tls','fp':'firefox','alpn':'h3','extra':CONST['ED_PARAMS']},'tcp':{'path':()=>generateRandomPath(0x12),'security':'none','fp':'firefox','extra':CONST['ED_PARAMS']}}};function makeName(a,b){return a+'-'+b['toUpperCase']();}function randomizeCase(a){let b='';for(let c=0x0;c<a['length'];c++){b+=Math['random']()<0.5?a[c]['toUpperCase']():a[c]['toLowerCase']();}return b;}function createVlessLink({userID:a,address:b,port:c,host:d,path:e,security:f,sni:g,fp:h,alpn:i,extra:extra={},name:j}){const l=new URLSearchParams({'encryption':'none','type':'ws','host':d,'path':e});f&&(l['set']('security',f),f==='tls'&&l['set']('allowInsecure','1'));if(g)l['set']('sni',g);if(h)l['set']('fp',h);if(i)l['set']('alpn',i);for(const [m,n]of Object['entries'](extra))l['set'](m,n);return'vless://'+a+'@'+b+':'+c+'?'+l['toString']()+'#'+encodeURIComponent(j);}function buildLink({core:a,proto:b,userID:c,hostName:d,address:e,port:f,tag:g}){const h=CORE_PRESETS[a][b];return createVlessLink({'userID':c,'address':e,'port':f,'host':d,'path':h['path'](),'security':h['security'],'sni':h['security']==='tls'?randomizeCase(d):undefined,'fp':h['fp'],'alpn':h['alpn'],'extra':h['extra'],'name':makeName(g,b)});}const pick=a=>a[Math['floor'](Math['random']()*a['length'])];async function handleIpSubscription(a,b,c){const d=[c,'creativecommons.org','www.speedtest.net','sky.rethinkdns.com','cfip.1323123.xyz','go.inmobi.com','www.visa.com','www.wto.org','cf.090227.xyz','cdnjs.com','zula.ir','mail.tm','temp-mail.org','ipaddress.my','mdbmax.com','check-host.net','kodambroker.com','iplocation.io','whatismyip.org','www.linkedin.com','exir.io','arzex.io','ok-ex.io','arzdigital.com','pouyanit.com','auth.grok.com','grok.com','maxmind.com','whatsmyip.com','iplocation.net','ipchicken.com','showmyip.com','router-network.com','whatismyipaddress.com'],f=[0x1bb,0x20fb,0x805,0x823,0x827,0x830],g=[0x50,0x1f90,0x22b0,0x804,0x822,0x826,0x82f];let h=[];const i=c['endsWith']('.pages.dev');d['forEach']((k,l)=>{h['push'](buildLink({'core':a,'proto':'tls','userID':b,'hostName':c,'address':k,'port':pick(f),'tag':'D'+(l+0x1)})),!i&&h['push'](buildLink({'core':a,'proto':'tcp','userID':b,'hostName':c,'address':k,'port':pick(g),'tag':'D'+(l+0x1)}));});try{const k=await fetch('https://raw.githubusercontent.com/NiREvil/vless/refs/heads/main/Cloudflare-IPs.json');if(k['ok']){const l=await k['json'](),m=[...l['ipv4']||[],...l['ipv6']||[]]['slice'](0x0,0x14)['map'](n=>n['ip']);m['forEach']((n,o)=>{const p=n['includes'](':')?'['+n+']':n;h['push'](buildLink({'core':a,'proto':'tls','userID':b,'hostName':c,'address':p,'port':pick(f),'tag':'IP'+(o+0x1)})),!i&&h['push'](buildLink({'core':a,'proto':'tcp','userID':b,'hostName':c,'address':p,'port':pick(g),'tag':'IP'+(o+0x1)}));});}}catch(n){console['error']('Fetch\x20IP\x20list\x20failed',n);}const j=new Headers({'Content-Type':'text/plain;charset=utf-8','Profile-Update-Interval':'6'});return addSecurityHeaders(j,null,{}),new Response(safeBase64Encode(h['join']('\x0a')),{'headers':j});}async function ensureTablesExist(a,b){if(!a['DB']){console['warn']('ensureTablesExist:\x20D1\x20binding\x20not\x20available');return;}try{const c=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip),\x0a\x20\x20\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY\x20(uuid)\x20REFERENCES\x20users(uuid)\x20ON\x20DELETE\x20CASCADE\x0a\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20key_value\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expiration\x20INTEGER\x0a\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x20DEFAULT\x20(strftime(\x27%s\x27,\x20\x27now\x27))\x0a\x20\x20\x20\x20\x20\x20)'],d=c['map'](j=>a['DB']['prepare'](j));await a['DB']['batch'](d);const f=a['UUID']||Config['userID'],g=new Date();g['setMonth'](g['getMonth']()+0x1);const h=g['toISOString']()['split']('T')[0x0],i='23:59:59';try{await a['DB']['prepare']('INSERT\x20OR\x20IGNORE\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)')['bind'](f,h,i,'Test\x20User\x20-\x20Development',null,0x40000000,-0x1)['run']();}catch(j){}console['log']('‚úì\x20D1\x20tables\x20initialized\x20successfully');}catch(k){console['error']('Failed\x20to\x20create\x20D1\x20tables:',k);}}async function performHealthCheck(a,b){if(!a['DB']){console['warn']('performHealthCheck:\x20D1\x20binding\x20not\x20available');return;}const c=a['PROXYIPS']?a['PROXYIPS']['split'](',')['map'](f=>f['trim']()):Config['proxyIPs'],d=[];for(const f of c){const [g,h='443']=f['split'](':');let i=null,j=0x0;const k=Date['now']();try{const l=new AbortController(),m=setTimeout(()=>l['abort'](),CONST['HEALTH_CHECK_TIMEOUT']),n=await fetch('https://'+g+':'+h,{'signal':l['signal'],'method':'HEAD'});clearTimeout(m),(n['ok']||n['status']===0x194)&&(i=Date['now']()-k,j=0x1);}catch(o){console['error']('Health\x20check\x20failed\x20for\x20'+f+':\x20'+o['message']);}d['push'](a['DB']['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)')['bind'](f,j,i,Math['floor'](Date['now']()/0x3e8)));}try{await a['DB']['batch'](d),console['log']('‚úì\x20Proxy\x20health\x20check\x20completed');}catch(p){console['error']('performHealthCheck\x20batch\x20error:\x20'+p['message']);}}const adminLoginHTML='<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20<title>Admin\x20Login\x20-\x20VLESS\x20Proxy</title>\x0a\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20*\x20{\x20box-sizing:\x20border-box;\x20margin:\x200;\x20padding:\x200;\x20}\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#1a1a2e\x200%,\x20#16213e\x20100%);\x0a\x20\x20\x20\x20\x20\x20font-family:\x20-apple-system,\x20BlinkMacSystemFont,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.login-container\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20padding:\x2040px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2032px\x20rgba(0,\x200,\x200,\x200.3);\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20400px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2024px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20form\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20gap:\x2016px;\x20}\x0a\x20\x20\x20\x20input[type=\x22password\x22],\x20input[type=\x22text\x22]\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.2);\x0a\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20padding:\x2014px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20input:focus\x20{\x0a\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-color:\x20#3b82f6;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x200\x203px\x20rgba(59,\x20130,\x20246,\x200.2);\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.15);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20input::placeholder\x20{\x20color:\x20rgba(255,\x20255,\x20255,\x200.5);\x20}\x0a\x20\x20\x20\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#3b82f6\x200%,\x20#2563eb\x20100%);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20padding:\x2014px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2020px\x20rgba(59,\x20130,\x20246,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20button:active\x20{\x20transform:\x20translateY(0);\x20}\x0a\x20\x20\x20\x20.error\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#ff6b6b;\x0a\x20\x20\x20\x20\x20\x20margin-top:\x2016px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20107,\x20107,\x200.1);\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20107,\x20107,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20\x20\x20.login-container\x20{\x20padding:\x2030px\x2020px;\x20margin:\x2020px;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20<div\x20class=\x22login-container\x22>\x0a\x20\x20\x20\x20<h1>üîê\x20Admin\x20Login</h1>\x0a\x20\x20\x20\x20<form\x20method=\x22POST\x22\x20action=\x22ADMIN_PATH_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20name=\x22password\x22\x20placeholder=\x22Enter\x20admin\x20password\x22\x20required\x20autocomplete=\x22current-password\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20name=\x22totp\x22\x20placeholder=\x222FA\x20Code\x20(if\x20enabled)\x22\x20autocomplete=\x22off\x22\x20inputmode=\x22numeric\x22\x20pattern=\x22[0-9]*\x22\x20maxlength=\x226\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20\x20\x20</form>\x0a\x20\x20</div>\x0a</body>\x0a</html>',adminPanelHTML='<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20<title>Admin\x20Dashboard\x20-\x20VLESS\x20Proxy\x20Manager</title>\x0a\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20:root\x20{\x0a\x20\x20\x20\x20\x20\x20--bg-main:\x20#0a0e17;\x20--bg-card:\x20#1a1f2e;\x20--border:\x20#2a3441;\x0a\x20\x20\x20\x20\x20\x20--text-primary:\x20#F9FAFB;\x20--text-secondary:\x20#9CA3AF;\x0a\x20\x20\x20\x20\x20\x20--accent:\x20#3B82F6;\x20--accent-hover:\x20#2563EB;\x0a\x20\x20\x20\x20\x20\x20--danger:\x20#EF4444;\x20--danger-hover:\x20#DC2626;\x0a\x20\x20\x20\x20\x20\x20--success:\x20#22C55E;\x20--warning:\x20#F59e0b;\x0a\x20\x20\x20\x20\x20\x20--btn-secondary-bg:\x20#4B5563;\x20--purple:\x20#a855f7;\x0a\x20\x20\x20\x20\x20\x20--cyan:\x20#06b6d4;\x20--pink:\x20#ec4899;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20*\x20{\x20margin:\x200;\x20padding:\x200;\x20box-sizing:\x20border-box;\x20}\x0a\x20\x20\x20\x20@keyframes\x20gradient-flow\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x20background-position:\x200%\x2050%;\x20}\x0a\x20\x20\x20\x20\x20\x2050%\x20{\x20background-position:\x20100%\x2050%;\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x20background-position:\x200%\x2050%;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20float-particles\x20{\x0a\x20\x20\x20\x20\x20\x200%,\x20100%\x20{\x20transform:\x20translateY(0)\x20rotate(0deg);\x20opacity:\x200.3;\x20}\x0a\x20\x20\x20\x20\x20\x2050%\x20{\x20transform:\x20translateY(-20px)\x20rotate(180deg);\x20opacity:\x200.8;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20counter-pulse\x20{\x0a\x20\x20\x20\x20\x20\x200%,\x20100%\x20{\x20transform:\x20scale(1);\x20}\x0a\x20\x20\x20\x20\x20\x2050%\x20{\x20transform:\x20scale(1.05);\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20title-shimmer\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x20background-position:\x20-200%\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x20background-position:\x20200%\x20center;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Inter,\x20system-ui,\x20-apple-system,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#0a0e17\x200%,\x20#111827\x2025%,\x20#0d1321\x2050%,\x20#0a0e17\x2075%,\x20#111827\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20400%\x20400%;\x0a\x20\x20\x20\x20\x20\x20animation:\x20gradient-flow\x2015s\x20ease\x20infinite;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-primary);\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20overflow-x:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20body::before\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20radial-gradient(ellipse\x20at\x2020%\x2030%,\x20rgba(59,\x20130,\x20246,\x200.08)\x200%,\x20transparent\x2050%),\x0a\x20\x20\x20\x20\x20\x20\x20\x20radial-gradient(ellipse\x20at\x2080%\x2070%,\x20rgba(168,\x2085,\x20247,\x200.08)\x200%,\x20transparent\x2050%),\x0a\x20\x20\x20\x20\x20\x20\x20\x20radial-gradient(ellipse\x20at\x2050%\x20100%,\x20rgba(6,\x20182,\x20212,\x200.05)\x200%,\x20transparent\x2040%);\x0a\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20z-index:\x20-1;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20max-width:\x201400px;\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20padding:\x2040px\x2020px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h1,\x20h2\x20{\x20font-weight:\x20600;\x20}\x0a\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2032px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2028px;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#3B82F6\x200%,\x20#8B5CF6\x2030%,\x20#06b6d4\x2060%,\x20#3B82F6\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20200%\x20auto;\x0a\x20\x20\x20\x20\x20\x20-webkit-background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20-webkit-text-fill-color:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20animation:\x20title-shimmer\x204s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x2040px\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x202px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20border-image:\x20linear-gradient(90deg,\x20var(--accent),\x20var(--purple),\x20transparent)\x201;\x0a\x20\x20\x20\x20\x20\x20padding-bottom:\x2012px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(145deg,\x20rgba(26,\x2031,\x2046,\x200.9)\x200%,\x20rgba(17,\x2024,\x2039,\x200.95)\x20100%);\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(20px);\x0a\x20\x20\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(20px);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2028px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.06);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x204px\x2024px\x20rgba(0,0,0,0.2),\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x200\x200\x201px\x20rgba(255,\x20255,\x20255,\x200.03),\x0a\x20\x20\x20\x20\x20\x20\x20\x20inset\x200\x201px\x200\x20rgba(255,\x20255,\x20255,\x200.05);\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2024px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card::before\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x20-100%;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.03),\x20transparent);\x0a\x20\x20\x20\x20\x20\x20transition:\x20left\x200.6s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card:hover::before\x20{\x0a\x20\x20\x20\x20\x20\x20left:\x20100%;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card:hover\x20{\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x2020px\x2040px\x20rgba(0,0,0,0.3),\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x200\x2080px\x20rgba(59,\x20130,\x20246,\x200.1),\x0a\x20\x20\x20\x20\x20\x20\x20\x20inset\x200\x201px\x200\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.dashboard-stats\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20\x20\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(180px,\x201fr));\x0a\x20\x20\x20\x20\x20\x20gap:\x2016px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2030px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-card\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(145deg,\x20rgba(26,\x2031,\x2046,\x200.9)\x200%,\x20rgba(17,\x2024,\x2039,\x200.95)\x20100%);\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(16px);\x0a\x20\x20\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(16px);\x0a\x20\x20\x20\x20\x20\x20padding:\x2024px\x2020px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.05);\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2016px\x20rgba(0,0,0,0.15);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-card::before\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20height:\x203px;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20var(--accent),\x20var(--purple),\x20var(--cyan));\x0a\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20transition:\x20opacity\x200.3s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-card::after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20inset:\x200;\x0a\x20\x20\x20\x20\x20\x20background:\x20radial-gradient(circle\x20at\x2050%\x200%,\x20rgba(59,\x20130,\x20246,\x200.1)\x200%,\x20transparent\x2070%);\x0a\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20transition:\x20opacity\x200.4s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-card:hover::before\x20{\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.stat-card:hover::after\x20{\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.stat-card:hover\x20{\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-6px)\x20scale(1.02);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x2020px\x2040px\x20rgba(59,\x20130,\x20246,\x200.2),\x0a\x20\x20\x20\x20\x20\x20\x20\x200\x200\x200\x201px\x20rgba(59,\x20130,\x20246,\x200.2);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-card.healthy\x20{\x20--card-accent:\x20var(--success);\x20}\x0a\x20\x20\x20\x20.stat-card.warning\x20{\x20--card-accent:\x20var(--warning);\x20}\x0a\x20\x20\x20\x20.stat-card.danger\x20{\x20--card-accent:\x20var(--danger);\x20}\x0a\x20\x20\x20\x20.stat-card.healthy::before,\x20.stat-card.warning::before,\x20.stat-card.danger::before\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20var(--card-accent);\x0a\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-icon\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x2044px;\x0a\x20\x20\x20\x20\x20\x20height:\x2044px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2012px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-icon.blue\x20{\x20background:\x20rgba(59,\x20130,\x20246,\x200.15);\x20}\x0a\x20\x20\x20\x20.stat-icon.green\x20{\x20background:\x20rgba(34,\x20197,\x2094,\x200.15);\x20}\x0a\x20\x20\x20\x20.stat-icon.orange\x20{\x20background:\x20rgba(245,\x20158,\x2011,\x200.15);\x20}\x0a\x20\x20\x20\x20.stat-icon.purple\x20{\x20background:\x20rgba(168,\x2085,\x20247,\x200.15);\x20}\x0a\x20\x20\x20\x20.stat-value\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2028px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20700;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--accent);\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20\x20\x20line-height:\x201.2;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-label\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-secondary);\x0a\x20\x20\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20\x20\x20letter-spacing:\x201px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-badge\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20\x20\x20padding:\x203px\x208px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2010px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat-badge.online\x20{\x20background:\x20rgba(34,\x20197,\x2094,\x200.15);\x20color:\x20var(--success);\x20}\x0a\x20\x20\x20\x20.stat-badge.offline\x20{\x20background:\x20rgba(239,\x2068,\x2068,\x200.15);\x20color:\x20var(--danger);\x20}\x0a\x20\x20\x20\x20.stat-badge.checking\x20{\x20background:\x20rgba(245,\x20158,\x2011,\x200.15);\x20color:\x20var(--warning);\x20}\x0a\x20\x20\x20\x20.form-grid\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20\x20\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(220px,\x201fr));\x0a\x20\x20\x20\x20\x20\x20gap:\x2016px;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20flex-end;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.form-group\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.form-group\x20label\x20{\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-secondary);\x0a\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20input[type=\x22text\x22],\x20input[type=\x22date\x22],\x20input[type=\x22time\x22],\x20\x0a\x20\x20\x20\x20input[type=\x22number\x22],\x20select\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#4B5563;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-primary);\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20input:focus,\x20select:focus\x20{\x0a\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-color:\x20var(--accent);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x200\x203px\x20rgba(59,\x20130,\x20246,\x200.1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px\x2022px;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn::before\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x20-100%;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.2),\x20transparent);\x0a\x20\x20\x20\x20\x20\x20transition:\x20left\x200.5s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn:hover::before\x20{\x20left:\x20100%;\x20}\x0a\x20\x20\x20\x20.btn:active\x20{\x20transform:\x20scale(0.96);\x20}\x0a\x20\x20\x20\x20.btn-primary\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20var(--accent)\x200%,\x20#6366f1\x2050%,\x20var(--purple)\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20200%\x20200%;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2015px\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-primary:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background-position:\x20100%\x2050%;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2025px\x20rgba(59,\x20130,\x20246,\x200.5);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-3px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-secondary\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#4B5563\x200%,\x20#374151\x20100%);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,255,255,0.08);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-secondary:hover\x20{\x20\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#6B7280\x200%,\x20#4B5563\x20100%);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-danger\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20var(--danger)\x200%,\x20#dc2626\x20100%);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2015px\x20rgba(239,\x2068,\x2068,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-danger:hover\x20{\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2025px\x20rgba(239,\x2068,\x2068,\x200.5);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-3px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.table-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20\x20\x20-webkit-overflow-scrolling:\x20touch;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.06);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20table\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20border-collapse:\x20collapse;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20th,\x20td\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x2014px\x2016px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20left;\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.04);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20th\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-secondary);\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20\x20\x20letter-spacing:\x200.5px;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(59,\x20130,\x20246,\x200.08);\x0a\x20\x20\x20\x20\x20\x20position:\x20sticky;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(8px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20td\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-primary);\x0a\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20tbody\x20tr\x20{\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20tbody\x20tr:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(59,\x20130,\x20246,\x200.08);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20tbody\x20tr:hover\x20td\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20tbody\x20tr:last-child\x20td\x20{\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x20none;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.status-badge\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x206px\x2012px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.status-active\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(34,\x20197,\x2094,\x200.2);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--success);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--success);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.status-expired\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(239,\x2068,\x2068,\x200.2);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--danger);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--danger);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.uuid-cell\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-copy-uuid\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x204px\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(59,\x20130,\x20246,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--accent);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-copy-uuid:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(59,\x20130,\x20246,\x200.2);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20var(--accent);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-copy-uuid.copied\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(34,\x20197,\x2094,\x200.2);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20var(--success);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--success);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20#toast\x20{\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(31,\x2041,\x2055,\x200.95);\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(12px);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20padding:\x2016px\x2020px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20z-index:\x201001;\x0a\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.08);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2012px\x2032px\x20rgba(0,0,0,0.4);\x0a\x20\x20\x20\x20\x20\x20animation:\x20slideIn\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20min-width:\x20280px;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20400px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.toast-content\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.toast-icon\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x2032px;\x0a\x20\x20\x20\x20\x20\x20height:\x2032px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.toast-icon.success\x20{\x20background:\x20rgba(34,\x20197,\x2094,\x200.15);\x20}\x0a\x20\x20\x20\x20.toast-icon.error\x20{\x20background:\x20rgba(239,\x2068,\x2068,\x200.15);\x20}\x0a\x20\x20\x20\x20.toast-icon.warning\x20{\x20background:\x20rgba(245,\x20158,\x2011,\x200.15);\x20}\x0a\x20\x20\x20\x20.toast-icon.info\x20{\x20background:\x20rgba(59,\x20130,\x20246,\x200.15);\x20}\x0a\x20\x20\x20\x20.toast-message\x20{\x20flex:\x201;\x20font-size:\x2014px;\x20line-height:\x201.4;\x20}\x0a\x20\x20\x20\x20@keyframes\x20slideIn\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x20transform:\x20translateX(120%);\x20opacity:\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x20transform:\x20translateX(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20slideOut\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x20transform:\x20translateX(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x20transform:\x20translateX(120%);\x20opacity:\x200;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20#toast.show\x20{\x20display:\x20block;\x20}\x0a\x20\x20\x20\x20#toast.hide\x20{\x20animation:\x20slideOut\x200.3s\x20ease\x20forwards;\x20}\x0a\x20\x20\x20\x20#toast.success\x20{\x20border-left:\x204px\x20solid\x20var(--success);\x20}\x0a\x20\x20\x20\x20#toast.error\x20{\x20border-left:\x204px\x20solid\x20var(--danger);\x20}\x0a\x20\x20\x20\x20#toast.warning\x20{\x20border-left:\x204px\x20solid\x20var(--warning);\x20}\x0a\x20\x20\x20\x20#toast.info\x20{\x20border-left:\x204px\x20solid\x20var(--accent);\x20}\x0a\x20\x20\x20\x20.btn.loading\x20{\x0a\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn.loading::after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20width:\x2016px;\x0a\x20\x20\x20\x20\x20\x20height:\x2016px;\x0a\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20border-top-color:\x20currentColor;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20animation:\x20spin\x200.8s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20right:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20to\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.pulse-dot\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x208px;\x0a\x20\x20\x20\x20\x20\x20height:\x208px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20animation:\x20pulse\x202s\x20ease-in-out\x20infinite;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.pulse-dot.green\x20{\x20background:\x20var(--success);\x20box-shadow:\x200\x200\x208px\x20var(--success);\x20}\x0a\x20\x20\x20\x20.pulse-dot.red\x20{\x20background:\x20var(--danger);\x20box-shadow:\x200\x200\x208px\x20var(--danger);\x20}\x0a\x20\x20\x20\x20.pulse-dot.orange\x20{\x20background:\x20var(--warning);\x20box-shadow:\x200\x200\x208px\x20var(--warning);\x20}\x0a\x20\x20\x20\x20@keyframes\x20pulse\x20{\x0a\x20\x20\x20\x20\x20\x200%,\x20100%\x20{\x20opacity:\x201;\x20transform:\x20scale(1);\x20}\x0a\x20\x20\x20\x20\x20\x2050%\x20{\x20opacity:\x200.5;\x20transform:\x20scale(0.8);\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.modal-overlay\x20{\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(0,0,0,0.7);\x0a\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20visibility:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.modal-overlay.show\x20{\x0a\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20visibility:\x20visible;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20var(--bg-card);\x0a\x20\x20\x20\x20\x20\x20padding:\x2032px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2020px\x2060px\x20rgba(0,0,0,0.5);\x0a\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20600px;\x0a\x20\x20\x20\x20\x20\x20max-height:\x2090vh;\x0a\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20transform:\x20scale(0.9);\x0a\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.modal-overlay.show\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.search-input\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px\x2016px;\x0a\x20\x20\x20\x20\x20\x20background:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#4B5563;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-primary);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.time-quick-set-group\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20margin-top:\x2012px;\x0a\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-outline-secondary\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--btn-secondary-bg);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-secondary);\x0a\x20\x20\x20\x20\x20\x20padding:\x206px\x2012px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn-outline-secondary:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20var(--btn-secondary-bg);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x20padding:\x2020px\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20.dashboard-stats\x20{\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(150px,\x201fr));\x20}\x0a\x20\x20\x20\x20\x20\x20.form-grid\x20{\x20grid-template-columns:\x201fr;\x20}\x0a\x20\x20\x20\x20\x20\x20h1\x20{\x20font-size:\x2024px;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20<h1>‚ö°\x20Admin\x20Dashboard</h1>\x0a\x20\x20\x20\x20<div\x20style=\x22position:\x20absolute;\x20top:\x2020px;\x20right:\x2020px;\x20display:\x20flex;\x20gap:\x2012px;\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22healthCheckBtn\x22\x20class=\x22btn\x20btn-secondary\x22>üîÑ\x20Health\x20Check</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22logoutBtn\x22\x20class=\x22btn\x20btn-danger\x22>üö™\x20Logout</button>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22dashboard-stats\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20blue\x22>üë•</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20id=\x22total-users\x22>0</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Total\x20Users</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20green\x22>‚úì</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20style=\x22color:\x20var(--success);\x22\x20id=\x22active-users\x22>0</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Active\x20Users</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20orange\x22>‚è±</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20style=\x22color:\x20var(--warning);\x22\x20id=\x22expired-users\x22>0</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Expired\x20Users</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20purple\x22>üìä</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20id=\x22total-traffic\x22>0\x20KB</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Total\x20Traffic</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20blue\x22>üïê</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20style=\x22font-size:16px;\x22\x20id=\x22server-time\x22>--:--:--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Server\x20Time</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22\x20id=\x22proxy-health-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20green\x22>üíö</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20style=\x22font-size:\x2022px;\x22\x20id=\x22proxy-health\x22>Checking...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Proxy\x20Health</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-badge\x20checking\x22\x20id=\x22proxy-health-badge\x22><span\x20class=\x22pulse-dot\x20orange\x22></span>\x20Checking</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22\x20id=\x22server-status-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-icon\x20blue\x22>üñ•</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-value\x22\x20style=\x22font-size:\x2022px;\x22\x20id=\x22server-status\x22>Online</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-label\x22>Server\x20Status</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-badge\x20online\x22\x20id=\x22server-status-badge\x22><span\x20class=\x22pulse-dot\x20green\x22></span>\x20Operational</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<h2>‚ûï\x20Create\x20New\x20User</h2>\x0a\x20\x20\x20\x20\x20\x20<form\x20id=\x22createUserForm\x22\x20class=\x22form-grid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22grid-column:\x201\x20/\x20-1;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22uuid\x22>UUID</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20gap:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22uuid\x22\x20required\x20style=\x22flex:\x201;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22generateUUID\x22\x20class=\x22btn\x20btn-secondary\x22>üé≤\x20Generate</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22expiryDate\x22>Expiry\x20Date</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20id=\x22expiryDate\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22expiryTime\x22>Expiry\x20Time\x20(Local)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22time\x22\x20id=\x22expiryTime\x22\x20step=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-quick-set-group\x22\x20data-target-date=\x22expiryDate\x22\x20data-target-time=\x22expiryTime\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22hour\x22>+1\x20Hour</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22day\x22>+1\x20Day</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x227\x22\x20data-unit=\x22day\x22>+1\x20Week</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22month\x22>+1\x20Month</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22notes\x22>Notes</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22notes\x22\x20placeholder=\x22Optional\x20notes\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22dataLimit\x22>Data\x20Limit</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20gap:\x208px;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22dataLimit\x22\x20min=\x220\x22\x20step=\x220.01\x22\x20placeholder=\x220\x22\x20style=\x22flex:\x201;\x20min-width:\x2080px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22dataUnit\x22\x20style=\x22min-width:\x20100px;\x20flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>KB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>MB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>GB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>TB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22unlimited\x22\x20selected>Unlimited</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22ipLimit\x22>IP\x20Limit</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22ipLimit\x22\x20min=\x22-1\x22\x20step=\x221\x22\x20placeholder=\x22-1\x20(Unlimited)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>&nbsp;</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x22>‚ú®\x20Create\x20User</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<h2>üë•\x20User\x20Management</h2>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22searchInput\x22\x20class=\x22search-input\x22\x20placeholder=\x22üîç\x20Search\x20by\x20UUID\x20or\x20Notes...\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22deleteSelected\x22\x20class=\x22btn\x20btn-danger\x22\x20style=\x22margin-bottom:\x2016px;\x22>üóëÔ∏è\x20Delete\x20Selected</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22exportUsers\x22\x20class=\x22btn\x20btn-secondary\x22\x20style=\x22margin-left:10px;\x22>üì•\x20Export\x20CSV</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th><input\x20type=\x22checkbox\x22\x20id=\x22selectAll\x22></th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>UUID</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Created</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Expiry\x20(Local)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Status</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Notes</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Limit</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Usage</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>IP\x20Limit</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22userList\x22></tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<div\x20id=\x22editModal\x22\x20class=\x22modal-overlay\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20<h2>‚úèÔ∏è\x20Edit\x20User</h2>\x0a\x20\x20\x20\x20\x20\x20<form\x20id=\x22editUserForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22editUuid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2020px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editExpiryDate\x22>Expiry\x20Date</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20id=\x22editExpiryDate\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editExpiryTime\x22>Expiry\x20Time</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22time\x22\x20id=\x22editExpiryTime\x22\x20step=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-quick-set-group\x22\x20data-target-date=\x22editExpiryDate\x22\x20data-target-time=\x22editExpiryTime\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22hour\x22>+1\x20Hour</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22day\x22>+1\x20Day</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x227\x22\x20data-unit=\x22day\x22>+1\x20Week</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22month\x22>+1\x20Month</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editNotes\x22>Notes</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22editNotes\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editDataLimit\x22>Data\x20Limit</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20gap:\x208px;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22editDataLimit\x22\x20min=\x220\x22\x20step=\x220.01\x22\x20placeholder=\x22Enter\x20limit\x22\x20style=\x22flex:\x201;\x20min-width:\x20100px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22editDataUnit\x22\x20style=\x22min-width:\x20110px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>KB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>MB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected>GB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option>TB</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22unlimited\x22>Unlimited</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editIpLimit\x22>IP\x20Limit</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22editIpLimit\x22\x20min=\x22-1\x22\x20step=\x221\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22resetTraffic\x22\x20style=\x22width:\x20auto;\x20margin-right:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Reset\x20Traffic\x20Usage\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20flex-end;\x20gap:\x2012px;\x20margin-top:\x2024px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22modalCancelBtn\x22\x20class=\x22btn\x20btn-secondary\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x22>üíæ\x20Save\x20Changes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<div\x20id=\x22toast\x22></div>\x0a\x0a\x20\x20<script\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20//\x20Admin\x20Panel\x20JavaScript\x20-\x20ÿ™ÿ±⁄©€åÿ®\x20⁄©ÿßŸÖŸÑ\x20ÿßÿ≤\x20Ÿáÿ±\x20ÿØŸà\x20ÿßÿ≥⁄©ÿ±€åŸæÿ™\x0a\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20API_BASE\x20=\x20\x27ADMIN_API_BASE_PATH_PLACEHOLDER\x27;\x0a\x20\x20\x20\x20\x20\x20let\x20allUsers\x20=\x20[];\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20escapeHTML(str)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20str\x20!==\x20\x27string\x27)\x20return\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20str.replace(/[&<>\x22\x27]/g,\x20m\x20=>\x20({\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27&\x27:\x20\x27&amp;\x27,\x20\x27<\x27:\x20\x27&lt;\x27,\x20\x27>\x27:\x20\x27&gt;\x27,\x20\x27\x22\x27:\x20\x27&quot;\x27,\x20\x22\x27\x22:\x20\x27&#39;\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20})[m]);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20formatBytes(bytes)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(bytes\x20===\x200)\x20return\x20\x270\x20Bytes\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20k\x20=\x201024;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20sizes\x20=\x20[\x27Bytes\x27,\x20\x27KB\x27,\x20\x27MB\x27,\x20\x27GB\x27,\x20\x27TB\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20i\x20=\x20Math.floor(Math.log(bytes)\x20/\x20Math.log(k));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20parseFloat((bytes\x20/\x20Math.pow(k,\x20i)).toFixed(2))\x20+\x20\x27\x20\x27\x20+\x20sizes[i];\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20animateCounter(el,\x20targetValue,\x20duration\x20=\x201000,\x20suffix\x20=\x20\x27\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20startValue\x20=\x20parseInt(el.textContent)\x20||\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20startTime\x20=\x20performance.now();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20diff\x20=\x20targetValue\x20-\x20startValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20update(currentTime)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20elapsed\x20=\x20currentTime\x20-\x20startTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progress\x20=\x20Math.min(elapsed\x20/\x20duration,\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20easeProgress\x20=\x201\x20-\x20Math.pow(1\x20-\x20progress,\x203);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentValue\x20=\x20Math.floor(startValue\x20+\x20diff\x20*\x20easeProgress);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20el.textContent\x20=\x20currentValue\x20+\x20suffix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(progress\x20<\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20requestAnimationFrame(update);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20el.textContent\x20=\x20targetValue\x20+\x20suffix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20el.style.animation\x20=\x20\x27counter-pulse\x200.3s\x20ease\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20el.style.animation\x20=\x20\x27\x27,\x20300);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20requestAnimationFrame(update);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20showToast(message,\x20typeOrError\x20=\x20\x27success\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20toast\x20=\x20document.getElementById(\x27toast\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20type\x20=\x20typeOrError\x20===\x20true\x20?\x20\x27error\x27\x20:\x20(typeOrError\x20===\x20false\x20?\x20\x27success\x27\x20:\x20typeOrError);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20icons\x20=\x20{\x20success:\x20\x27‚úì\x27,\x20error:\x20\x27‚úï\x27,\x20warning:\x20\x27‚ö†\x27,\x20info:\x20\x27‚Ñπ\x27\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20icon\x20=\x20icons[type]\x20||\x20icons.success;\x0a\x20\x20\x20\x20\x20\x20\x20\x20toast.innerHTML\x20=\x20\x27<div\x20class=\x22toast-content\x22><div\x20class=\x22toast-icon\x20\x27\x20+\x20type\x20+\x20\x27\x22>\x27\x20+\x20icon\x20+\x20\x27</div><div\x20class=\x22toast-message\x22>\x27\x20+\x20message\x20+\x20\x27</div></div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20toast.className\x20=\x20type\x20+\x20\x27\x20show\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x20toast.classList.add(\x27hide\x27);\x20setTimeout(()\x20=>\x20toast.className\x20=\x20\x27\x27,\x20300);\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20updateProxyHealth(isHealthy,\x20latency)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20card\x20=\x20document.getElementById(\x27proxy-health-card\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20value\x20=\x20document.getElementById(\x27proxy-health\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20badge\x20=\x20document.getElementById(\x27proxy-health-badge\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!card\x20||\x20!value\x20||\x20!badge)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isHealthy\x20===\x20null\x20||\x20isHealthy\x20===\x20undefined)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20card.className\x20=\x20\x27stat-card\x20healthy\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.textContent\x20=\x20\x27Healthy\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.style.color\x20=\x20\x27var(--success)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.innerHTML\x20=\x20\x27<span\x20class=\x22pulse-dot\x20green\x22></span>\x20Online\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.className\x20=\x20\x27stat-badge\x20online\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(isHealthy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20card.className\x20=\x20\x27stat-card\x20healthy\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.textContent\x20=\x20latency\x20?\x20latency\x20+\x20\x27ms\x27\x20:\x20\x27Healthy\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.style.color\x20=\x20\x27var(--success)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.innerHTML\x20=\x20\x27<span\x20class=\x22pulse-dot\x20green\x22></span>\x20Online\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.className\x20=\x20\x27stat-badge\x20online\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20card.className\x20=\x20\x27stat-card\x20danger\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.textContent\x20=\x20\x27Unhealthy\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value.style.color\x20=\x20\x27var(--danger)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.innerHTML\x20=\x20\x27<span\x20class=\x22pulse-dot\x20red\x22></span>\x20Issues\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20badge.className\x20=\x20\x27stat-badge\x20offline\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20setButtonLoading(btn,\x20loading)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(loading)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.classList.add(\x27loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.classList.remove(\x27loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20getCsrfToken\x20=\x20()\x20=>\x20document.cookie.split(\x27;\x20\x27).find(row\x20=>\x20row.startsWith(\x27csrf_token=\x27))?.split(\x27=\x27)[1]\x20||\x20\x27\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20api\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20get:\x20(endpoint)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20credentials:\x20\x27include\x27\x20}).then(handleResponse),\x0a\x20\x20\x20\x20\x20\x20\x20\x20post:\x20(endpoint,\x20body)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20credentials:\x20\x27include\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x27Content-Type\x27:\x20\x27application/json\x27,\x20\x27X-CSRF-Token\x27:\x20getCsrfToken()},\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify(body)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}).then(handleResponse),\x0a\x20\x20\x20\x20\x20\x20\x20\x20put:\x20(endpoint,\x20body)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27PUT\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20credentials:\x20\x27include\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x27Content-Type\x27:\x20\x27application/json\x27,\x20\x27X-CSRF-Token\x27:\x20getCsrfToken()},\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify(body)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}).then(handleResponse),\x0a\x20\x20\x20\x20\x20\x20\x20\x20delete:\x20(endpoint)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27DELETE\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20credentials:\x20\x27include\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x27X-CSRF-Token\x27:\x20getCsrfToken()}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}).then(handleResponse),\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleResponse(response)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20401)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Session\x20expired.\x20Please\x20log\x20in\x20again.\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20window.location.reload(),\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Unauthorized\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20errorData\x20=\x20await\x20response.json().catch(()\x20=>\x20({\x20error:\x20\x27Request\x20failed\x27\x20}));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(errorData.error\x20||\x20\x27Request\x20failed\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20response.status\x20===\x20204\x20?\x20null\x20:\x20response.json();\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20pad\x20=\x20(num)\x20=>\x20num.toString().padStart(2,\x20\x270\x27);\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20localToUTC(dateStr,\x20timeStr)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!dateStr\x20||\x20!timeStr)\x20return\x20{\x20utcDate:\x20\x27\x27,\x20utcTime:\x20\x27\x27\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDateTime\x20=\x20new\x20Date(dateStr\x20+\x20\x27T\x27\x20+\x20timeStr);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(localDateTime.getTime()))\x20return\x20{\x20utcDate:\x20\x27\x27,\x20utcTime:\x20\x27\x27\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20localDateTime.getUTCFullYear();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(localDateTime.getUTCMonth()\x20+\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(localDateTime.getUTCDate());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(localDateTime.getUTCHours());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(localDateTime.getUTCMinutes());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(localDateTime.getUTCSeconds());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20utcDate:\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20utcTime:\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20utcToLocal(utcDateStr,\x20utcTimeStr)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDateStr\x20||\x20!utcTimeStr)\x20return\x20{\x20localDate:\x20\x27\x27,\x20localTime:\x20\x27\x27\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20utcDateTime\x20=\x20new\x20Date(utcDateStr\x20+\x20\x27T\x27\x20+\x20utcTimeStr\x20+\x20\x27Z\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(utcDateTime.getTime()))\x20return\x20{\x20localDate:\x20\x27\x27,\x20localTime:\x20\x27\x27\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20utcDateTime.getFullYear();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(utcDateTime.getMonth()\x20+\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(utcDateTime.getDate());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(utcDateTime.getHours());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(utcDateTime.getMinutes());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(utcDateTime.getSeconds());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localDate:\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localTime:\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20addExpiryTime(dateInputId,\x20timeInputId,\x20amount,\x20unit)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dateInput\x20=\x20document.getElementById(dateInputId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeInput\x20=\x20document.getElementById(timeInputId);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20date\x20=\x20new\x20Date(dateInput.value\x20+\x20\x27T\x27\x20+\x20(timeInput.value\x20||\x20\x2700:00:00\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(date.getTime()))\x20date\x20=\x20new\x20Date();\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(unit\x20===\x20\x27hour\x27)\x20date.setHours(date.getHours()\x20+\x20amount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(unit\x20===\x20\x27day\x27)\x20date.setDate(date.getDate()\x20+\x20amount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(unit\x20===\x20\x27month\x27)\x20date.setMonth(date.getMonth()\x20+\x20amount);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20date.getFullYear();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(date.getMonth()\x20+\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(date.getDate());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(date.getHours());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(date.getMinutes());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(date.getSeconds());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20dateInput.value\x20=\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day;\x0a\x20\x20\x20\x20\x20\x20\x20\x20timeInput.value\x20=\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20document.body.addEventListener(\x27click\x27,\x20(e)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20target\x20=\x20e.target.closest(\x27.time-quick-set-group\x20button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!target)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20group\x20=\x20target.closest(\x27.time-quick-set-group\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20addExpiryTime(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group.dataset.targetDate,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group.dataset.targetTime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parseInt(target.dataset.amount,\x2010),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target.dataset.unit\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20copyUUID(uuid,\x20button)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20navigator.clipboard.writeText(uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27‚úì\x20Copied\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.add(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.remove(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27UUID\x20copied\x20to\x20clipboard!\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Failed\x20to\x20copy\x20UUID\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20fetchStats()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20stats\x20=\x20await\x20api.get(\x27/stats\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27total-users\x27).textContent\x20=\x20stats.total_users;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27active-users\x27).textContent\x20=\x20stats.active_users;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expired-users\x27).textContent\x20=\x20stats.expired_users;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27total-traffic\x27).textContent\x20=\x20formatBytes(stats.total_traffic);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Update\x20proxy\x20health\x20status\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(stats.proxy_health)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateProxyHealth(stats.proxy_health.is_healthy,\x20stats.proxy_health.latency_ms);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateProxyHealth(true,\x20null);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateProxyHealth(false,\x20null);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20renderUsers(usersToRender\x20=\x20allUsers)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20userList\x20=\x20document.getElementById(\x27userList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20userList.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usersToRender.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.innerHTML\x20=\x20\x27<tr><td\x20colspan=\x2210\x22\x20style=\x22text-align:center;\x22>No\x20users\x20found.</td></tr>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20usersToRender.forEach(user\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expiryDate\x20=\x20new\x20Date(user.expiration_date\x20+\x20\x27T\x27\x20+\x20user.expiration_time\x20+\x20\x27Z\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20isExpired\x20=\x20expiryDate\x20<=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localExpiry\x20=\x20expiryDate.toLocaleString();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20row\x20=\x20document.createElement(\x27tr\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20row.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20class=\x22user-checkbox\x22\x20data-uuid=\x22${user.uuid}\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22uuid-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22${user.uuid}\x22>${user.uuid.substring(0,\x208)}...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-copy-uuid\x22\x20data-uuid=\x22${user.uuid}\x22>üìã\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${new\x20Date(user.created_at).toLocaleString()}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${localExpiry}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22status-badge\x20${isExpired\x20?\x20\x27status-expired\x27\x20:\x20\x27status-active\x27}\x22>${isExpired\x20?\x20\x27Expired\x27\x20:\x20\x27Active\x27}</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${escapeHTML(user.notes\x20||\x20\x27-\x27)}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${user.traffic_limit\x20?\x20formatBytes(user.traffic_limit)\x20:\x20\x27Unlimited\x27}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${formatBytes(user.traffic_used\x20||\x200)}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${user.ip_limit\x20===\x20-1\x20?\x20\x27Unlimited\x27\x20:\x20user.ip_limit}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20gap:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-secondary\x20btn-edit\x22\x20data-uuid=\x22${user.uuid}\x22\x20style=\x22font-size:\x2012px;\x20padding:\x206px\x2010px;\x22>Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-delete\x22\x20data-uuid=\x22${user.uuid}\x22\x20style=\x22font-size:\x2012px;\x20padding:\x206px\x2010px;\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.appendChild(row);\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20fetchAndRenderUsers()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allUsers\x20=\x20await\x20api.get(\x27/users\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allUsers.sort((a,\x20b)\x20=>\x20new\x20Date(b.created_at)\x20-\x20new\x20Date(a.created_at));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20renderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchStats();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20//\x20ÿ≥€åÿ≥ÿ™ŸÖ\x20Auto-Refresh\x20ÿßÿ≤\x20ÿßÿ≥⁄©ÿ±€åŸæÿ™\x20ÿßŸàŸÑ\x0a\x20\x20\x20\x20\x20\x20function\x20startAutoRefresh()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20setInterval(async\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27‚úì\x20Dashboard\x20auto-refreshed\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Auto-refresh\x20failed:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x2060000);\x20//\x20Ÿáÿ±\x201\x20ÿØŸÇ€åŸÇŸá\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleCreateUser(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20e.preventDefault();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDate\x20=\x20document.getElementById(\x27expiryDate\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localTime\x20=\x20document.getElementById(\x27expiryTime\x27).value;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20utcDate,\x20utcTime\x20}\x20=\x20localToUTC(localDate,\x20localTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDate\x20||\x20!utcTime)\x20return\x20showToast(\x27Invalid\x20date\x20or\x20time\x27,\x20true);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataLimit\x20=\x20document.getElementById(\x27dataLimit\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataUnit\x20=\x20document.getElementById(\x27dataUnit\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20trafficLimit\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dataUnit\x20!==\x20\x27unlimited\x27\x20&&\x20dataLimit)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20multipliers\x20=\x20{\x20KB:\x201024,\x20MB:\x201024**2,\x20GB:\x201024**3,\x20TB:\x201024**4\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20trafficLimit\x20=\x20parseFloat(dataLimit)\x20*\x20(multipliers[dataUnit]\x20||\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipLimit\x20=\x20parseInt(document.getElementById(\x27ipLimit\x27).value)\x20||\x20-1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20userData\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuid:\x20document.getElementById(\x27uuid\x27).value,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_date:\x20utcDate,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_time:\x20utcTime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notes:\x20document.getElementById(\x27notes\x27).value,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit:\x20trafficLimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip_limit:\x20ipLimit\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/users\x27,\x20userData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20User\x20created\x20successfully!\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27createUserForm\x27).reset();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27uuid\x27).value\x20=\x20crypto.randomUUID();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setDefaultExpiry();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleDeleteUser(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(confirm(\x27Delete\x20user\x20\x27\x20+\x20uuid\x20+\x20\x27?\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.delete(\x27/users/\x27\x20+\x20uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20User\x20deleted\x20successfully!\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleBulkDelete()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20selected\x20=\x20Array.from(document.querySelectorAll(\x27.user-checkbox:checked\x27)).map(cb\x20=>\x20cb.dataset.uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(selected.length\x20===\x200)\x20return\x20showToast(\x27No\x20users\x20selected\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(confirm(\x27Delete\x20\x27\x20+\x20selected.length\x20+\x20\x27\x20selected\x20users?\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/users/bulk-delete\x27,\x20{\x20uuids:\x20selected\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Selected\x20users\x20deleted!\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20openEditModal(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20user\x20=\x20allUsers.find(u\x20=>\x20u.uuid\x20===\x20uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!user)\x20return\x20showToast(\x27User\x20not\x20found\x27,\x20true);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20localDate,\x20localTime\x20}\x20=\x20utcToLocal(user.expiration_date,\x20user.expiration_time);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editUuid\x27).value\x20=\x20user.uuid;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editExpiryDate\x27).value\x20=\x20localDate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editExpiryTime\x27).value\x20=\x20localTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editNotes\x27).value\x20=\x20user.notes\x20||\x20\x27\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20editDataLimit\x20=\x20document.getElementById(\x27editDataLimit\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20editDataUnit\x20=\x20document.getElementById(\x27editDataUnit\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(user.traffic_limit\x20===\x20null\x20||\x20user.traffic_limit\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataUnit.value\x20=\x20\x27unlimited\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataLimit.value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bytes\x20=\x20user.traffic_limit;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20unit\x20=\x20\x27KB\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20value\x20=\x20bytes\x20/\x201024;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27MB\x27;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27GB\x27;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27TB\x27;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataLimit.value\x20=\x20value.toFixed(2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataUnit.value\x20=\x20unit;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editIpLimit\x27).value\x20=\x20user.ip_limit\x20!==\x20null\x20?\x20user.ip_limit\x20:\x20-1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resetTraffic\x27).checked\x20=\x20false;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editModal\x27).classList.add(\x27show\x27);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20closeEditModal()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editModal\x27).classList.remove(\x27show\x27);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleEditUser(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20e.preventDefault();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDate\x20=\x20document.getElementById(\x27editExpiryDate\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localTime\x20=\x20document.getElementById(\x27editExpiryTime\x27).value;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20utcDate,\x20utcTime\x20}\x20=\x20localToUTC(localDate,\x20localTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDate\x20||\x20!utcTime)\x20return\x20showToast(\x27Invalid\x20date\x20or\x20time\x27,\x20true);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataLimit\x20=\x20document.getElementById(\x27editDataLimit\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataUnit\x20=\x20document.getElementById(\x27editDataUnit\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20trafficLimit\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dataUnit\x20!==\x20\x27unlimited\x27\x20&&\x20dataLimit)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20multipliers\x20=\x20{\x20KB:\x201024,\x20MB:\x201024**2,\x20GB:\x201024**3,\x20TB:\x201024**4\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20trafficLimit\x20=\x20parseFloat(dataLimit)\x20*\x20(multipliers[dataUnit]\x20||\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipLimit\x20=\x20parseInt(document.getElementById(\x27editIpLimit\x27).value)\x20||\x20-1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20updatedData\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_date:\x20utcDate,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_time:\x20utcTime,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notes:\x20document.getElementById(\x27editNotes\x27).value,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit:\x20trafficLimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip_limit:\x20ipLimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20reset_traffic:\x20document.getElementById(\x27resetTraffic\x27).checked\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.put(\x27/users/\x27\x20+\x20document.getElementById(\x27editUuid\x27).value,\x20updatedData);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20User\x20updated\x20successfully!\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20closeEditModal();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleLogout()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/logout\x27,\x20{});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Logged\x20out\x20successfully!\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20window.location.reload(),\x201000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20handleHealthCheck()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/health-check\x27,\x20{});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Health\x20check\x20completed!\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(error.message,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20setDefaultExpiry()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20now.setDate(now.getDate()\x20+\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20now.getFullYear();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(now.getMonth()\x20+\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(now.getDate());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(now.getHours());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(now.getMinutes());\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(now.getSeconds());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiryDate\x27).value\x20=\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiryTime\x27).value\x20=\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20filterUsers()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20searchTerm\x20=\x20document.getElementById(\x27searchInput\x27).value.toLowerCase();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20filtered\x20=\x20allUsers.filter(user\x20=>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.uuid.toLowerCase().includes(searchTerm)\x20||\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(user.notes\x20&&\x20user.notes.toLowerCase().includes(searchTerm))\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20renderUsers(filtered);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20//\x20Event\x20Listeners\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27generateUUID\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27uuid\x27).value\x20=\x20crypto.randomUUID();\x0a\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27createUserForm\x27).addEventListener(\x27submit\x27,\x20handleCreateUser);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27editUserForm\x27).addEventListener(\x27submit\x27,\x20handleEditUser);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27modalCancelBtn\x27).addEventListener(\x27click\x27,\x20closeEditModal);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27searchInput\x27).addEventListener(\x27input\x27,\x20filterUsers);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27selectAll\x27).addEventListener(\x27change\x27,\x20(e)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.user-checkbox\x27).forEach(cb\x20=>\x20cb.checked\x20=\x20e.target.checked);\x0a\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27deleteSelected\x27).addEventListener(\x27click\x27,\x20handleBulkDelete);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27exportUsers\x27).addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(allUsers.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27No\x20users\x20to\x20export\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20headers\x20=\x20[\x27UUID\x27,\x20\x27Created\x20At\x27,\x20\x27Expiration\x20Date\x27,\x20\x27Expiration\x20Time\x27,\x20\x27Notes\x27,\x20\x27Traffic\x20Limit\x27,\x20\x27Traffic\x20Used\x27,\x20\x27IP\x20Limit\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20csvContent\x20=\x20headers.join(\x27,\x27)\x20+\x20\x27\x5cn\x27\x20+\x20allUsers.map(user\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20[\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.uuid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.created_at,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.expiration_date,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.expiration_time,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(user.notes\x20||\x20\x27\x27).replace(/,/g,\x20\x27;\x27),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.traffic_limit\x20||\x20\x27Unlimited\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.traffic_used\x20||\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.ip_limit\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20].map(val\x20=>\x20\x27\x22\x27\x20+\x20String(val).replace(/\x22/g,\x20\x27\x22\x22\x27)\x20+\x20\x27\x22\x27).join(\x27,\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x5cn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20blob\x20=\x20new\x20Blob([csvContent],\x20{\x20type:\x20\x27text/csv;charset=utf-8;\x27\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20url\x20=\x20URL.createObjectURL(blob);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20link\x20=\x20document.createElement(\x27a\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20link.href\x20=\x20url;\x0a\x20\x20\x20\x20\x20\x20\x20\x20link.download\x20=\x20\x27users_export_\x27\x20+\x20new\x20Date().toISOString().split(\x27T\x27)[0]\x20+\x20\x27.csv\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.body.appendChild(link);\x0a\x20\x20\x20\x20\x20\x20\x20\x20link.click();\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.body.removeChild(link);\x0a\x20\x20\x20\x20\x20\x20\x20\x20URL.revokeObjectURL(url);\x0a\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Users\x20exported\x20successfully!\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27logoutBtn\x27).addEventListener(\x27click\x27,\x20handleLogout);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27healthCheckBtn\x27).addEventListener(\x27click\x27,\x20handleHealthCheck);\x0a\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27editModal\x27).addEventListener(\x27click\x27,\x20(e)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(e.target\x20===\x20document.getElementById(\x27editModal\x27))\x20closeEditModal();\x0a\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27userList\x27).addEventListener(\x27click\x27,\x20(e)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyBtn\x20=\x20e.target.closest(\x27.btn-copy-uuid\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(copyBtn)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyUUID(copyBtn.dataset.uuid,\x20copyBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20actionBtn\x20=\x20e.target.closest(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!actionBtn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20uuid\x20=\x20actionBtn.dataset.uuid;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(actionBtn.classList.contains(\x27btn-edit\x27))\x20openEditModal(uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(actionBtn.classList.contains(\x27btn-delete\x27))\x20handleDeleteUser(uuid);\x0a\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20//\x20Initialize\x0a\x20\x20\x20\x20\x20\x20setDefaultExpiry();\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27uuid\x27).value\x20=\x20crypto.randomUUID();\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20//\x20Set\x20default\x20healthy\x20state\x20before\x20fetching\x20actual\x20data\x0a\x20\x20\x20\x20\x20\x20updateProxyHealth(null,\x20null);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20fetchAndRenderUsers();\x0a\x20\x20\x20\x20\x20\x20function\x20updateServerTime()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeStr\x20=\x20now.toLocaleTimeString(\x27en-US\x27,\x20{\x20hour12:\x20false\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20el\x20=\x20document.getElementById(\x27server-time\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(el)\x20el.textContent\x20=\x20timeStr;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20updateServerTime();\x0a\x20\x20\x20\x20\x20\x20setInterval(updateServerTime,\x201000);\x0a\x20\x20\x20\x20\x20\x20startAutoRefresh();\x0a\x20\x20\x20\x20});\x0a\x20\x20</script>\x0a</body>\x0a</html>';async function isAdmin(a,b){const c=a['headers']['get']('Cookie');if(!c)return![];const d=c['match'](/auth_token=([^;]+)/)?.[0x1];if(!d)return![];const e=await hashSHA256(d),f=await kvGet(b['DB'],'admin_session_token_hash');return f&&timingSafeEqual(e,f);}async function handleAdminRequest(a,b,c,d){try{await ensureTablesExist(b,c);const f=new URL(a['url']),g={'Content-Type':'application/json'},h=new Headers({'Content-Type':'text/html;charset=utf-8'}),i=a['headers']['get']('CF-Connecting-IP');if(!b['ADMIN_KEY'])return addSecurityHeaders(h,null,{}),new Response('Admin\x20panel\x20not\x20configured',{'status':0x1f7,'headers':h});if(b['ADMIN_IP_WHITELIST']){const m=b['ADMIN_IP_WHITELIST']['split'](',')['map'](n=>n['trim']());if(!m['includes'](i))return console['warn']('Admin\x20access\x20denied\x20for\x20IP:\x20'+i),addSecurityHeaders(h,null,{}),new Response('Access\x20denied',{'status':0x193,'headers':h});}else{const n={'username':b['SCAMALYTICS_USERNAME']||Config['scamalytics']['username'],'apiKey':b['SCAMALYTICS_API_KEY']||Config['scamalytics']['apiKey'],'baseUrl':b['SCAMALYTICS_BASEURL']||Config['scamalytics']['baseUrl']};if(await isSuspiciousIP(i,n,b['SCAMALYTICS_THRESHOLD']||CONST['SCAMALYTICS_THRESHOLD']))return console['warn']('Admin\x20access\x20denied\x20for\x20suspicious\x20IP:\x20'+i),addSecurityHeaders(h,null,{}),new Response('Access\x20denied',{'status':0x193,'headers':h});}if(b['ADMIN_HEADER_KEY']){const o=a['headers']['get']('X-Admin-Auth');if(!timingSafeEqual(o||'',b['ADMIN_HEADER_KEY']))return addSecurityHeaders(h,null,{}),new Response('Access\x20denied',{'status':0x193,'headers':h});}const j='/'+d+'/'+b['ADMIN_KEY'];if(!f['pathname']['startsWith'](j)){const p=new Headers();return addSecurityHeaders(p,null,{}),new Response('Not\x20found',{'status':0x194,'headers':p});}const k=f['pathname']['substring'](j['length'])||'/';if(k['startsWith']('/api/')){if(!b['DB']){const t=new Headers(g);return addSecurityHeaders(t,null,{}),new Response(JSON['stringify']({'error':'Database\x20not\x20configured'}),{'status':0x1f7,'headers':t});}if(!await isAdmin(a,b)){const u=new Headers(g);return addSecurityHeaders(u,null,{}),new Response(JSON['stringify']({'error':'Forbidden'}),{'status':0x193,'headers':u});}const q='admin_api_rate:'+i;if(await checkRateLimit(b['DB'],q,0x64,0x3c)){const v=new Headers(g);return addSecurityHeaders(v,null,{}),new Response(JSON['stringify']({'error':'API\x20rate\x20limit\x20exceeded'}),{'status':0x1ad,'headers':v});}if(a['method']!=='GET'){const w=a['headers']['get']('Origin'),x=a['headers']['get']('Sec-Fetch-Site');if(!w||new URL(w)['hostname']!==f['hostname']||x!=='same-origin'){const A=new Headers(g);return addSecurityHeaders(A,null,{}),new Response(JSON['stringify']({'error':'Invalid\x20request\x20origin'}),{'status':0x193,'headers':A});}const y=a['headers']['get']('X-CSRF-Token'),z=a['headers']['get']('Cookie')?.['match'](/csrf_token=([^;]+)/)?.[0x1];if(!y||!z||!timingSafeEqual(y,z)){const B=new Headers(g);return addSecurityHeaders(B,null,{}),new Response(JSON['stringify']({'error':'CSRF\x20validation\x20failed'}),{'status':0x193,'headers':B});}}if(k==='/api/stats'&&a['method']==='GET'){const C=new Headers(g);addSecurityHeaders(C,null,{});try{const D=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users')['first']('count'),E=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)')['first'](),F=E?.['count']||0x0,G=D-F,H=await b['DB']['prepare']('SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users')['first'](),I=H?.['sum']||0x0;let J={'is_healthy':![],'latency_ms':null};try{const K=await b['DB']['prepare']('SELECT\x20is_healthy,\x20latency_ms\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201')['first']();if(K)J={'is_healthy':!![],'latency_ms':K['latency_ms']};else{const L=await b['DB']['prepare']('SELECT\x20is_healthy,\x20latency_ms\x20FROM\x20proxy_health\x20LIMIT\x201')['first']();L&&(J={'is_healthy':!!L['is_healthy'],'latency_ms':L['latency_ms']});}}catch(M){console['error']('Failed\x20to\x20get\x20proxy\x20health:',M);}return new Response(JSON['stringify']({'total_users':D,'active_users':G,'expired_users':F,'total_traffic':I,'proxy_health':J}),{'status':0xc8,'headers':C});}catch(N){return new Response(JSON['stringify']({'error':N['message']}),{'status':0x1f4,'headers':C});}}if(k==='/api/users'&&a['method']==='GET'){const O=new Headers(g);addSecurityHeaders(O,null,{});try{const {results:P}=await b['DB']['prepare']('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')['all']();return new Response(JSON['stringify'](P??[]),{'status':0xc8,'headers':O});}catch(Q){return new Response(JSON['stringify']({'error':Q['message']}),{'status':0x1f4,'headers':O});}}if(k==='/api/users'&&a['method']==='POST'){const R=new Headers(g);addSecurityHeaders(R,null,{});try{const {uuid:S,exp_date:T,exp_time:U,notes:V,traffic_limit:W,ip_limit:X}=await a['json']();if(!S||!T||!U||!/^\d{4}-\d{2}-\d{2}$/['test'](T)||!/^\d{2}:\d{2}:\d{2}$/['test'](U))throw new Error('Invalid\x20or\x20missing\x20fields');return await b['DB']['prepare']('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')['bind'](S,T,U,V||null,W,X||-0x1)['run'](),c['waitUntil'](kvPut(b['DB'],'user:'+S,{'uuid':S,'expiration_date':T,'expiration_time':U,'notes':V||null,'traffic_limit':W,'ip_limit':X||-0x1,'traffic_used':0x0},{'expirationTtl':0xe10})),new Response(JSON['stringify']({'success':!![],'uuid':S}),{'status':0xc9,'headers':R});}catch(Y){if(Y['message']?.['includes']('UNIQUE\x20constraint\x20failed'))return new Response(JSON['stringify']({'error':'UUID\x20already\x20exists'}),{'status':0x199,'headers':R});return new Response(JSON['stringify']({'error':Y['message']}),{'status':0x190,'headers':R});}}if(k==='/api/users/bulk-delete'&&a['method']==='POST'){const Z=new Headers(g);addSecurityHeaders(Z,null,{});try{const {uuids:a0}=await a['json']();if(!Array['isArray'](a0)||a0['length']===0x0)throw new Error('Invalid\x20request:\x20Expected\x20array\x20of\x20UUIDs');const a1=b['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?'),a2=a0['map'](a3=>a1['bind'](a3));return await b['DB']['batch'](a2),c['waitUntil'](Promise['all'](a0['map'](a3=>kvDelete(b['DB'],'user:'+a3)))),new Response(JSON['stringify']({'success':!![],'count':a0['length']}),{'status':0xc8,'headers':Z});}catch(a3){return new Response(JSON['stringify']({'error':a3['message']}),{'status':0x190,'headers':Z});}}const r=k['match'](/^\/api\/users\/([a-f0-9-]+)$/);if(r&&a['method']==='PUT'){const a4=new Headers(g);addSecurityHeaders(a4,null,{});const a5=r[0x1];try{const {exp_date:a6,exp_time:a7,notes:a8,traffic_limit:a9,ip_limit:aa,reset_traffic:ab}=await a['json']();if(!a6||!a7||!/^\d{4}-\d{2}-\d{2}$/['test'](a6)||!/^\d{2}:\d{2}:\d{2}$/['test'](a7))throw new Error('Invalid\x20date/time\x20format');let ac='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?',ad=[a6,a7,a8||null,a9,aa||-0x1];return ab&&(ac+=',\x20traffic_used\x20=\x200'),ac+='\x20WHERE\x20uuid\x20=\x20?',ad['push'](a5),await b['DB']['prepare'](ac)['bind'](...ad)['run'](),c['waitUntil'](kvDelete(b['DB'],'user:'+a5)),new Response(JSON['stringify']({'success':!![],'uuid':a5}),{'status':0xc8,'headers':a4});}catch(ae){return new Response(JSON['stringify']({'error':ae['message']}),{'status':0x190,'headers':a4});}}if(r&&a['method']==='DELETE'){const af=new Headers(g);addSecurityHeaders(af,null,{});const ag=r[0x1];try{return await b['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](ag)['run'](),c['waitUntil'](kvDelete(b['DB'],'user:'+ag)),new Response(JSON['stringify']({'success':!![],'uuid':ag}),{'status':0xc8,'headers':af});}catch(ah){return new Response(JSON['stringify']({'error':ah['message']}),{'status':0x1f4,'headers':af});}}if(k==='/api/logout'&&a['method']==='POST'){const ai=new Headers(g);addSecurityHeaders(ai,null,{});try{await kvDelete(b['DB'],'admin_session_token_hash');const aj=['auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','csrf_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20SameSite=Strict'];return ai['append']('Set-Cookie',aj[0x0]),ai['append']('Set-Cookie',aj[0x1]),new Response(JSON['stringify']({'success':!![]}),{'status':0xc8,'headers':ai});}catch(ak){return new Response(JSON['stringify']({'error':ak['message']}),{'status':0x1f4,'headers':ai});}}if(k==='/api/health-check'&&a['method']==='POST'){const al=new Headers(g);addSecurityHeaders(al,null,{});try{return await performHealthCheck(b,c),new Response(JSON['stringify']({'success':!![]}),{'status':0xc8,'headers':al});}catch(am){return new Response(JSON['stringify']({'error':am['message']}),{'status':0x1f4,'headers':al});}}const s=new Headers(g);return addSecurityHeaders(s,null,{}),new Response(JSON['stringify']({'error':'API\x20route\x20not\x20found'}),{'status':0x194,'headers':s});}if(k==='/'){if(a['method']==='POST'){const ao='login_fail_ip:'+i;try{const ap=await kvGet(b['DB'],ao),aq=parseInt(ap,0xa)||0x0;if(aq>=CONST['ADMIN_LOGIN_FAIL_LIMIT'])return addSecurityHeaders(h,null,{}),new Response('Too\x20many\x20failed\x20attempts.\x20Try\x20again\x20later.',{'status':0x1ad,'headers':h});const ar=await a['formData']();if(timingSafeEqual(ar['get']('password'),b['ADMIN_KEY'])){if(b['ADMIN_TOTP_SECRET']){const aw=ar['get']('totp');if(!await validateTOTP(b['ADMIN_TOTP_SECRET'],aw)){const ax=generateNonce();addSecurityHeaders(h,ax,{});let ay=adminLoginHTML['replace']('</form>','</form><p\x20class=\x22error\x22>Invalid\x20TOTP\x20code.\x20Attempt\x20'+(aq+0x1)+'/'+CONST['ADMIN_LOGIN_FAIL_LIMIT']+'</p>');return ay=ay['replace'](/CSP_NONCE_PLACEHOLDER/g,ax),ay=ay['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22'),c['waitUntil'](kvPut(b['DB'],ao,(aq+0x1)['toString'](),{'expirationTtl':CONST['ADMIN_LOGIN_LOCK_TTL']})),new Response(ay,{'status':0x191,'headers':h});}}const as=crypto['randomUUID'](),at=crypto['randomUUID'](),au=await hashSHA256(as);c['waitUntil'](Promise['all']([kvPut(b['DB'],'admin_session_token_hash',au,{'expirationTtl':0x15180}),kvDelete(b['DB'],ao)]));const av=new Headers({'Location':j});return av['append']('Set-Cookie','auth_token='+as+';\x20HttpOnly;\x20Secure;\x20Path='+j+';\x20Max-Age=86400;\x20SameSite=Strict'),av['append']('Set-Cookie','csrf_token='+at+';\x20Secure;\x20Path='+j+';\x20Max-Age=86400;\x20SameSite=Strict'),addSecurityHeaders(av,null,{}),new Response(null,{'status':0x12e,'headers':av});}else{c['waitUntil'](kvPut(b['DB'],ao,(aq+0x1)['toString'](),{'expirationTtl':CONST['ADMIN_LOGIN_LOCK_TTL']}));const az=generateNonce();addSecurityHeaders(h,az,{});let aA=adminLoginHTML['replace']('</form>','</form><p\x20class=\x22error\x22>Invalid\x20password.\x20Attempt\x20'+(aq+0x1)+'/'+CONST['ADMIN_LOGIN_FAIL_LIMIT']+'</p>');return aA=aA['replace'](/CSP_NONCE_PLACEHOLDER/g,az),aA=aA['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22'),new Response(aA,{'status':0x191,'headers':h});}}catch(aB){return console['error']('Admin\x20login\x20error:',aB),addSecurityHeaders(h,null,{}),new Response('Internal\x20error\x20during\x20login',{'status':0x1f4,'headers':h});}}if(a['method']==='GET'){const aC=generateNonce();addSecurityHeaders(h,aC,{});let aD;return await isAdmin(a,b)?(aD=adminPanelHTML,aD=aD['replace']('\x27ADMIN_API_BASE_PATH_PLACEHOLDER\x27','\x27'+j+'/api\x27')):(aD=adminLoginHTML,aD=aD['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22')),aD=aD['replace'](/CSP_NONCE_PLACEHOLDER/g,aC),new Response(aD,{'headers':h});}const an=new Headers();return addSecurityHeaders(an,null,{}),new Response('Method\x20Not\x20Allowed',{'status':0x195,'headers':an});}const l=new Headers();return addSecurityHeaders(l,null,{}),new Response('Not\x20found',{'status':0x194,'headers':l});}catch(aE){console['error']('handleAdminRequest\x20error:',aE['message'],aE['stack']);const aF=new Headers();return addSecurityHeaders(aF,null,{}),new Response('Internal\x20Server\x20Error',{'status':0x1f4,'headers':aF});}}async function resolveProxyIP(a){const b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c=/^\[?[0-9a-fA-F:]+\]?$/;if(b['test'](a)||c['test'](a))return a;const d=[{'url':'https://cloudflare-dns.com/dns-query?name='+encodeURIComponent(a)+'&type=A','parse':f=>f['Answer']?.['find'](g=>g['type']===0x1)?.['data']},{'url':'https://dns.google/resolve?name='+encodeURIComponent(a)+'&type=A','parse':f=>f['Answer']?.['find'](g=>g['type']===0x1)?.['data']},{'url':'https://1.1.1.1/dns-query?name='+encodeURIComponent(a)+'&type=A','parse':f=>f['Answer']?.['find'](g=>g['type']===0x1)?.['data']}];for(const f of d){try{const g=await fetch(f['url'],{'headers':{'accept':'application/dns-json'}});if(g['ok']){const h=await g['json'](),i=f['parse'](h);if(i&&b['test'](i))return i;}}catch(j){}}return a;}async function getGeo(a,b=null){if(b&&(b['city']||b['country']))return{'city':b['city']||'','country':b['country']||'','isp':b['asOrganization']||''};const c=[{'url':'https://ip-api.com/json/'+a+'?fields=status,message,city,country,isp','parse':async d=>{const f=await d['json']();if(f['status']==='fail')throw new Error(f['message']||'API\x20Error');return{'city':f['city']||'','country':f['country']||'','isp':f['isp']||''};}},{'url':'https://ipapi.co/'+a+'/json/','parse':async d=>{const f=await d['json']();if(f['error'])throw new Error(f['reason']||'API\x20Error');return{'city':f['city']||'','country':f['country_name']||'','isp':f['org']||''};}},{'url':'https://ipwho.is/'+a,'parse':async d=>{const f=await d['json']();if(!f['success'])throw new Error('API\x20Error');return{'city':f['city']||'','country':f['country']||'','isp':f['connection']?.['isp']||''};}},{'url':'https://ipinfo.io/'+a+'/json','parse':async d=>{const f=await d['json']();if(f['bogon'])throw new Error('Bogon\x20IP');return{'city':f['city']||'','country':f['country']||'','isp':f['org']||''};}},{'url':'https://freeipapi.com/api/json/'+a,'parse':async d=>{const f=await d['json']();return{'city':f['cityName']||'','country':f['countryName']||'','isp':''};}}];for(const d of c){try{const f=new AbortController(),g=setTimeout(()=>f['abort'](),0xbb8),h=await fetch(d['url'],{'signal':f['signal'],'headers':{'Accept':'application/json'}});clearTimeout(g);if(h['ok']){const i=await d['parse'](h);if(i&&(i['city']||i['country']))return i;}}catch(j){}}return{'city':'','country':'Global','isp':'Cloudflare'};}async function handleUserPanel(a,b,c,d,f,g){try{const h='https://'+c+'/xray/'+b,i='https://'+c+'/sb/'+b,j=buildLink({'core':'xray','proto':'tls','userID':b,'hostName':c,'address':c,'port':0x1bb,'tag':'Main'}),k=buildLink({'core':'sb','proto':'tls','userID':b,'hostName':c,'address':c,'port':0x1bb,'tag':'Main'}),l={'universalAndroid':'v2rayng://install-config?url='+encodeURIComponent(h),'shadowrocket':'shadowrocket://add/sub?url='+encodeURIComponent(h)+'&name='+encodeURIComponent(c),'streisand':'streisand://install-config?url='+encodeURIComponent(h),'karing':'karing://install-config?url='+encodeURIComponent(h),'clashMeta':'clash://install-config?url='+encodeURIComponent(i),'exclave':'sn://subscription?url='+encodeURIComponent(i)+'&name='+encodeURIComponent(c)},m=isExpired(f['expiration_date'],f['expiration_time']),n=f['expiration_date']&&f['expiration_time']?f['expiration_date']+'T'+f['expiration_time']+'Z':null;let o=0x0;f['traffic_limit']&&f['traffic_limit']>0x0&&(o=Math['min']((f['traffic_used']||0x0)/f['traffic_limit']*0x64,0x64));const p=a['cf']||{},q={'city':p['city']||'','country':p['country']||'','isp':p['asOrganization']||''},r=d['split'](':')[0x0],s=await resolveProxyIP(r),t=await getGeo(s)||{'city':'','country':'','isp':''},u=await formatBytes(f['traffic_used']||0x0);let v='Unlimited';f['traffic_limit']&&f['traffic_limit']>0x0&&(v=await formatBytes(f['traffic_limit']));const w='<!doctype\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20<meta\x20charset=\x22utf-8\x22\x20/>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22\x20/>\x0a\x20\x20<title>User\x20Panel\x20‚Äî\x20VLESS\x20Configuration</title>\x0a\x20\x20<script\x20src=\x22https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js\x22\x20integrity=\x22sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA==\x22\x20crossorigin=\x22anonymous\x22\x20referrerpolicy=\x22no-referrer\x22></script>\x0a\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20:root{\x0a\x20\x20\x20\x20\x20\x20--bg:#0b1220;\x20--card:#0f1724;\x20--muted:#9aa4b2;\x20--accent:#3b82f6;\x0a\x20\x20\x20\x20\x20\x20--accent-2:#60a5fa;\x20--success:#22c55e;\x20--danger:#ef4444;\x20--warning:#f59e0b;\x0a\x20\x20\x20\x20\x20\x20--glass:\x20rgba(255,255,255,0.03);\x20--radius:16px;\x20--mono:\x20\x22SF\x20Mono\x22,\x20\x22Fira\x20Code\x22,\x20monospace;\x0a\x20\x20\x20\x20\x20\x20--purple:#a855f7;\x20--glow-accent:\x20rgba(59,\x20130,\x20246,\x200.4);\x20--glow-purple:\x20rgba(168,\x2085,\x20247,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20*\x20{\x20box-sizing:border-box;\x20margin:\x200;\x20padding:\x200;\x20}\x0a\x20\x20\x20\x20@keyframes\x20gradient-shift\x20{\x200%{background-position:0%\x2050%}\x2050%{background-position:100%\x2050%}\x20100%{background-position:0%\x2050%}\x20}\x0a\x20\x20\x20\x20@keyframes\x20float\x20{\x200%,100%{transform:translateY(0)}\x2050%{transform:translateY(-6px)}\x20}\x0a\x20\x20\x20\x20@keyframes\x20shimmer\x20{\x200%{background-position:-200%\x200}\x20100%{background-position:200%\x200}\x20}\x0a\x20\x20\x20\x20@keyframes\x20glow-pulse\x20{\x200%,100%{box-shadow:0\x200\x2020px\x20var(--glow-accent)}\x2050%{box-shadow:0\x200\x2040px\x20var(--glow-accent),\x200\x200\x2060px\x20var(--glow-purple)}\x20}\x0a\x20\x20\x20\x20body{\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Inter,\x20system-ui,\x20-apple-system,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#030712\x200%,\x20#0f172a\x2025%,\x20#1e1b4b\x2050%,\x20#0f172a\x2075%,\x20#030712\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20400%\x20400%;\x0a\x20\x20\x20\x20\x20\x20animation:\x20gradient-shift\x2015s\x20ease\x20infinite;\x0a\x20\x20\x20\x20\x20\x20color:#e6eef8;\x20-webkit-font-smoothing:antialiased;\x0a\x20\x20\x20\x20\x20\x20min-height:100vh;\x20padding:28px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20body::before{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;\x20position:fixed;\x20top:0;\x20left:0;\x20right:0;\x20bottom:0;\x20z-index:-1;\x0a\x20\x20\x20\x20\x20\x20background:\x20radial-gradient(ellipse\x20at\x2020%\x2020%,\x20rgba(59,\x20130,\x20246,\x200.08)\x200%,\x20transparent\x2050%),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20radial-gradient(ellipse\x20at\x2080%\x2080%,\x20rgba(168,\x2085,\x20247,\x200.08)\x200%,\x20transparent\x2050%),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20radial-gradient(ellipse\x20at\x2050%\x2050%,\x20rgba(34,\x20197,\x2094,\x200.03)\x200%,\x20transparent\x2060%);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.container{max-width:1100px;margin:0\x20auto}\x0a\x20\x20\x20\x20.card{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(145deg,\x20rgba(15,\x2023,\x2042,\x200.9),\x20rgba(15,\x2023,\x2036,\x200.7));\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(20px);\x20-webkit-backdrop-filter:\x20blur(20px);\x0a\x20\x20\x20\x20\x20\x20border-radius:var(--radius);\x20padding:22px;\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.06);\x20\x0a\x20\x20\x20\x20\x20\x20box-shadow:0\x208px\x2032px\x20rgba(0,0,0,0.3),\x20inset\x200\x201px\x200\x20rgba(255,255,255,0.05);\x20\x0a\x20\x20\x20\x20\x20\x20margin-bottom:20px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20position:relative;\x20overflow:hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card::before{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;\x20position:absolute;\x20top:0;\x20left:0;\x20right:0;\x20height:1px;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.1),\x20transparent);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.card:hover\x20{\x20\x0a\x20\x20\x20\x20\x20\x20box-shadow:0\x2020px\x2050px\x20rgba(0,0,0,0.4),\x200\x200\x2030px\x20rgba(59,\x20130,\x20246,\x200.1);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-4px);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20rgba(59,\x20130,\x20246,\x200.2);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h1,h2{margin:0\x200\x2014px;font-weight:700}\x0a\x20\x20\x20\x20h1{font-size:30px;\x20\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#3b82f6\x200%,\x20#8b5cf6\x2050%,\x20#ec4899\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20200%\x20auto;\x0a\x20\x20\x20\x20\x20\x20animation:\x20shimmer\x203s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20-webkit-background-clip:\x20text;\x20-webkit-text-fill-color:\x20transparent;\x20background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20text-shadow:\x200\x200\x2040px\x20rgba(139,\x2092,\x20246,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h2{font-size:20px;\x20color:#f1f5f9}\x0a\x20\x20\x20\x20p.lead{color:var(--muted);margin:6px\x200\x2022px;font-size:15px;letter-spacing:0.2px}\x0a\x0a\x20\x20\x20\x20.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:14px}\x0a\x20\x20\x20\x20.stat{\x0a\x20\x20\x20\x20\x20\x20padding:18px\x2014px;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(145deg,\x20rgba(30,\x2041,\x2059,\x200.6),\x20rgba(15,\x2023,\x2036,\x200.8));\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20border-radius:14px;text-align:center;\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.04);\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20position:relative;\x20overflow:hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat::after{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;\x20position:absolute;\x20top:-50%;\x20left:-50%;\x20width:200%;\x20height:200%;\x0a\x20\x20\x20\x20\x20\x20background:\x20radial-gradient(circle,\x20rgba(255,255,255,0.05)\x200%,\x20transparent\x2070%);\x0a\x20\x20\x20\x20\x20\x20opacity:0;\x20transition:\x20opacity\x200.4s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat:hover::after\x20{\x20opacity:1;\x20}\x0a\x20\x20\x20\x20.stat:hover\x20{\x20\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-5px)\x20scale(1.02);\x20\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2012px\x2030px\x20rgba(59,\x20130,\x20246,\x200.25),\x200\x200\x2020px\x20rgba(59,\x20130,\x20246,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20rgba(59,\x20130,\x20246,\x200.3);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.stat\x20.val{font-weight:800;font-size:24px;margin-bottom:6px;letter-spacing:-0.5px}\x0a\x20\x20\x20\x20.stat\x20.lbl{color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:1px;font-weight:500}\x0a\x20\x20\x20\x20.stat.status-active\x20.val{color:var(--success);\x20text-shadow:\x200\x200\x2020px\x20rgba(34,\x20197,\x2094,\x200.4)}\x0a\x20\x20\x20\x20.stat.status-expired\x20.val{color:var(--danger);\x20text-shadow:\x200\x200\x2020px\x20rgba(239,\x2068,\x2068,\x200.4)}\x0a\x20\x20\x20\x20.stat.status-warning\x20.val{color:var(--warning);\x20text-shadow:\x200\x200\x2020px\x20rgba(245,\x20158,\x2011,\x200.4)}\x0a\x0a\x20\x20\x20\x20.grid{display:grid;grid-template-columns:1fr\x20360px;gap:18px}\x0a\x20\x20\x20\x20@media\x20(max-width:980px){\x20.grid{grid-template-columns:1fr}\x20}\x0a\x0a\x20\x20\x20\x20.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:14px;margin-top:16px}\x0a\x20\x20\x20\x20.info-item{background:var(--glass);padding:14px;border-radius:10px;border:1px\x20solid\x20rgba(255,255,255,0.02)}\x0a\x20\x20\x20\x20.info-item\x20.label{font-size:11px;color:var(--muted);display:block;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}\x0a\x20\x20\x20\x20.info-item\x20.value{font-weight:600;word-break:break-all;font-size:14px}\x0a\x0a\x20\x20\x20\x20.progress-bar{\x0a\x20\x20\x20\x20\x20\x20height:14px;background:linear-gradient(90deg,\x20rgba(7,21,41,0.8),\x20rgba(15,23,42,0.9));\x0a\x20\x20\x20\x20\x20\x20border-radius:10px;overflow:hidden;margin:14px\x200;\x0a\x20\x20\x20\x20\x20\x20box-shadow:inset\x200\x202px\x208px\x20rgba(0,0,0,0.4);\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.03);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.progress-fill{\x0a\x20\x20\x20\x20\x20\x20height:100%;\x0a\x20\x20\x20\x20\x20\x20transition:width\x201s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20border-radius:10px;\x0a\x20\x20\x20\x20\x20\x20width:0%;\x0a\x20\x20\x20\x20\x20\x20position:relative;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.progress-fill::after{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;position:absolute;top:0;left:0;right:0;bottom:0;\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.3),\x20transparent);\x0a\x20\x20\x20\x20\x20\x20animation:shimmer\x202s\x20infinite;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.progress-fill.low{background:linear-gradient(90deg,#22c55e\x200%,#16a34a\x2050%,#22c55e\x20100%);background-size:200%\x20auto}\x0a\x20\x20\x20\x20.progress-fill.medium{background:linear-gradient(90deg,#f59e0b\x200%,#d97706\x2050%,#f59e0b\x20100%);background-size:200%\x20auto}\x0a\x20\x20\x20\x20.progress-fill.high{background:linear-gradient(90deg,#ef4444\x200%,#dc2626\x2050%,#ef4444\x20100%);background-size:200%\x20auto}\x0a\x0a\x20\x20\x20\x20pre.config{background:#071529;padding:14px;border-radius:8px;overflow:auto;\x0a\x20\x20\x20\x20\x20\x20font-family:var(--mono);font-size:13px;color:#cfe8ff;\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.02);max-height:200px}\x0a\x20\x20\x20\x20.buttons{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}\x0a\x0a\x20\x20\x20\x20.btn{\x0a\x20\x20\x20\x20\x20\x20display:inline-flex;align-items:center;gap:8px;padding:12px\x2018px;border-radius:10px;\x0a\x20\x20\x20\x20\x20\x20border:none;cursor:pointer;font-weight:600;font-size:14px;\x0a\x20\x20\x20\x20\x20\x20transition:all\x200.3s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20text-decoration:none;color:inherit;position:relative;overflow:hidden;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn::before{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;position:absolute;top:0;left:-100%;width:100%;height:100%;\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.2),\x20transparent);\x0a\x20\x20\x20\x20\x20\x20transition:left\x200.5s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn:hover::before{left:100%}\x0a\x20\x20\x20\x20.btn.primary{\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(135deg,\x20#3b82f6\x200%,\x20#8b5cf6\x2050%,\x20#6366f1\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:200%\x20auto;\x0a\x20\x20\x20\x20\x20\x20color:#fff;box-shadow:0\x204px\x2020px\x20rgba(59,130,246,0.4),\x20inset\x200\x201px\x200\x20rgba(255,255,255,0.2);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn.primary:hover{\x0a\x20\x20\x20\x20\x20\x20transform:translateY(-3px)\x20scale(1.02);\x0a\x20\x20\x20\x20\x20\x20box-shadow:0\x208px\x2030px\x20rgba(59,130,246,0.5),\x200\x200\x2020px\x20rgba(139,92,246,0.3);\x0a\x20\x20\x20\x20\x20\x20background-position:right\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn.ghost{\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(145deg,\x20rgba(255,255,255,0.05),\x20rgba(255,255,255,0.02));\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:blur(10px);\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.1);color:var(--muted);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn.ghost:hover{\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(145deg,\x20rgba(255,255,255,0.1),\x20rgba(255,255,255,0.05));\x0a\x20\x20\x20\x20\x20\x20border-color:rgba(59,130,246,0.4);color:#fff;\x0a\x20\x20\x20\x20\x20\x20box-shadow:0\x204px\x2015px\x20rgba(59,130,246,0.2);\x0a\x20\x20\x20\x20\x20\x20transform:translateY(-2px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.btn.small{padding:9px\x2014px;font-size:13px;transition:all\x200.3s\x20ease}\x0a\x20\x20\x20\x20.btn.small:hover{transform:translateY(-2px)}\x0a\x20\x20\x20\x20.btn:active{transform:translateY(0)\x20scale(0.97)}\x0a\x20\x20\x20\x20.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}\x0a\x0a\x20\x20\x20\x20.qr-container{background:linear-gradient(135deg,\x20#ffffff\x200%,\x20#f8fafc\x20100%);padding:20px;border-radius:16px;display:inline-block;box-shadow:0\x208px\x2032px\x20rgba(0,0,0,0.15),\x200\x200\x200\x201px\x20rgba(255,255,255,0.1);margin:16px\x20auto;text-align:center;transition:all\x200.3s\x20ease;border:2px\x20solid\x20rgba(59,130,246,0.1)}\x0a\x20\x20\x20\x20.qr-container:hover{transform:translateY(-4px);box-shadow:0\x2016px\x2048px\x20rgba(0,0,0,0.2),\x200\x200\x2030px\x20rgba(59,130,246,0.15)}\x0a\x20\x20\x20\x20#qr-display{min-height:280px;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:10px}\x0a\x20\x20\x20\x20#qr-display\x20img,#qr-display\x20canvas{border-radius:8px;max-width:100%}\x0a\x0a\x20\x20\x20\x20#toast{position:fixed;right:20px;top:20px;background:linear-gradient(135deg,\x20rgba(15,27,42,0.98),\x20rgba(10,20,35,0.95));\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);\x0a\x20\x20\x20\x20\x20\x20padding:16px\x2020px;border-radius:14px;border:1px\x20solid\x20rgba(255,255,255,0.08);display:none;\x0a\x20\x20\x20\x20\x20\x20color:#cfe8ff;box-shadow:0\x2012px\x2040px\x20rgba(2,6,23,0.7),\x200\x200\x200\x201px\x20rgba(255,255,255,0.05);\x0a\x20\x20\x20\x20\x20\x20z-index:1000;min-width:240px;max-width:350px;\x0a\x20\x20\x20\x20\x20\x20transform:translateX(0);transition:all\x200.3s\x20cubic-bezier(0.4,\x200,\x200.2,\x201)}\x0a\x20\x20\x20\x20#toast.show{display:block;animation:toastIn\x20.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201)}\x0a\x20\x20\x20\x20#toast.success{border-left:4px\x20solid\x20var(--success);box-shadow:0\x2012px\x2040px\x20rgba(2,6,23,0.7),\x200\x200\x2020px\x20rgba(34,197,94,0.2)}\x0a\x20\x20\x20\x20#toast.error{border-left:4px\x20solid\x20var(--danger);box-shadow:0\x2012px\x2040px\x20rgba(2,6,23,0.7),\x200\x200\x2020px\x20rgba(239,68,68,0.2)}\x0a\x20\x20\x20\x20@keyframes\x20toastIn{from{transform:translateX(100px);opacity:0}to{transform:translateX(0);opacity:1}}\x0a\x0a\x20\x20\x20\x20.section-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;\x0a\x20\x20\x20\x20\x20\x20padding-bottom:12px;border-bottom:1px\x20solid\x20rgba(255,255,255,0.05)}\x0a\x20\x20\x20\x20.muted{color:var(--muted);font-size:14px;line-height:1.6}\x0a\x20\x20\x20\x20.stack{display:flex;flex-direction:column;gap:10px}\x0a\x20\x20\x20\x20.hidden{display:none}\x0a\x20\x20\x20\x20.text-center{text-align:center}\x0a\x20\x20\x20\x20.mb-2{margin-bottom:12px}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.expiry-warning{background:rgba(239,68,68,0.1);border:1px\x20solid\x20rgba(239,68,68,0.3);\x0a\x20\x20\x20\x20\x20\x20padding:12px;border-radius:8px;margin-top:12px;color:#fca5a5}\x0a\x20\x20\x20\x20.expiry-info{background:rgba(34,197,94,0.1);border:1px\x20solid\x20rgba(34,197,94,0.3);\x0a\x20\x20\x20\x20\x20\x20padding:12px;border-radius:8px;margin-top:12px;color:#86efac}\x0a\x0a\x20\x20\x20\x20.widgets-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px}\x0a\x20\x20\x20\x20@media(max-width:980px){.widgets-grid{grid-template-columns:1fr\x201fr}}\x0a\x20\x20\x20\x20@media(max-width:640px){.widgets-grid{grid-template-columns:1fr}}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.widget{\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(145deg,\x20rgba(15,\x2023,\x2042,\x200.9),\x20rgba(15,\x2023,\x2036,\x200.7));\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(20px);\x20-webkit-backdrop-filter:\x20blur(20px);\x0a\x20\x20\x20\x20\x20\x20border-radius:var(--radius);padding:20px;\x0a\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.06);position:relative;overflow:hidden;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.4s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2024px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.widget::before{\x0a\x20\x20\x20\x20\x20\x20content:\x27\x27;\x20position:absolute;\x20top:0;\x20left:0;\x20right:0;\x20height:1px;\x0a\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20transparent,\x20rgba(255,255,255,0.08),\x20transparent);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.widget:hover{\x0a\x20\x20\x20\x20\x20\x20border-color:\x20rgba(59,\x20130,\x20246,\x200.2);\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2012px\x2040px\x20rgba(0,0,0,0.3),\x200\x200\x2020px\x20rgba(59,\x20130,\x20246,\x200.08);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-3px);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.widget-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}\x0a\x20\x20\x20\x20.widget-title{display:flex;align-items:center;gap:10px;font-weight:600;font-size:14px}\x0a\x20\x20\x20\x20.widget-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px}\x0a\x20\x20\x20\x20.widget-icon.green{background:rgba(34,197,94,0.15);color:var(--success)}\x0a\x20\x20\x20\x20.widget-icon.blue{background:rgba(59,130,246,0.15);color:var(--accent)}\x0a\x20\x20\x20\x20.widget-icon.orange{background:rgba(245,158,11,0.15);color:var(--warning)}\x0a\x20\x20\x20\x20.widget-icon.purple{background:rgba(168,85,247,0.15);color:#a855f7}\x0a\x20\x20\x20\x20.widget-icon.red{background:rgba(239,68,68,0.15);color:var(--danger)}\x0a\x20\x20\x20\x20.widget-badge{padding:4px\x2010px;border-radius:20px;font-size:11px;font-weight:600}\x0a\x20\x20\x20\x20.widget-badge.good{background:rgba(34,197,94,0.15);color:var(--success)}\x0a\x20\x20\x20\x20.widget-badge.warning{background:rgba(245,158,11,0.15);color:var(--warning)}\x0a\x20\x20\x20\x20.widget-badge.bad{background:rgba(239,68,68,0.15);color:var(--danger)}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.traffic-speeds{display:grid;grid-template-columns:1fr\x201fr;gap:12px;margin-bottom:12px}\x0a\x20\x20\x20\x20.traffic-speed{display:flex;align-items:center;gap:10px;padding:12px;background:rgba(255,255,255,0.02);border-radius:8px}\x0a\x20\x20\x20\x20.traffic-speed-icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center}\x0a\x20\x20\x20\x20.traffic-speed-icon.down{background:rgba(34,197,94,0.12);color:var(--success)}\x0a\x20\x20\x20\x20.traffic-speed-icon.up{background:rgba(59,130,246,0.12);color:var(--accent)}\x0a\x20\x20\x20\x20.traffic-speed-value{font-size:18px;font-weight:700}\x0a\x20\x20\x20\x20.traffic-speed-unit{font-size:11px;color:var(--muted)}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.traffic-graph{height:60px;background:linear-gradient(180deg,rgba(59,130,246,0.08)\x200%,transparent\x20100%);\x0a\x20\x20\x20\x20\x20\x20border-radius:8px;position:relative;overflow:hidden;margin-bottom:14px}\x0a\x20\x20\x20\x20.traffic-graph-line{position:absolute;bottom:0;left:0;right:0;height:40%;\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(90deg,rgba(59,130,246,0.3),rgba(34,197,94,0.3),rgba(59,130,246,0.3));\x0a\x20\x20\x20\x20\x20\x20clip-path:polygon(0\x2070%,5%\x2060%,10%\x2050%,15%\x2055%,20%\x2045%,25%\x2050%,30%\x2040%,35%\x2055%,40%\x2035%,45%\x2050%,50%\x2030%,55%\x2045%,60%\x2040%,65%\x2055%,70%\x2035%,75%\x2050%,80%\x2045%,85%\x2055%,90%\x2040%,95%\x2050%,100%\x2060%,100%\x20100%,0\x20100%)}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.traffic-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}\x0a\x20\x20\x20\x20.traffic-stat{text-align:center;padding:8px\x204px;background:rgba(255,255,255,0.02);border-radius:6px}\x0a\x20\x20\x20\x20.traffic-stat-val{font-size:13px;font-weight:600}\x0a\x20\x20\x20\x20.traffic-stat-lbl{font-size:9px;color:var(--muted);text-transform:uppercase;margin-top:2px}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.health-row{display:flex;align-items:center;gap:16px;margin-bottom:14px}\x0a\x20\x20\x20\x20.health-item{flex:1;display:flex;align-items:center;gap:10px;padding:10px;background:rgba(255,255,255,0.02);border-radius:8px}\x0a\x20\x20\x20\x20.health-item-icon{width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:14px}\x0a\x20\x20\x20\x20.health-item-val{font-size:16px;font-weight:600}\x0a\x20\x20\x20\x20.health-item-lbl{font-size:10px;color:var(--muted)}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.stability-bar{height:8px;background:#071529;border-radius:4px;overflow:hidden}\x0a\x20\x20\x20\x20.stability-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,var(--success),#16a34a);transition:width\x201s\x20ease}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.net-stats-grid{display:grid;grid-template-columns:1fr\x201fr;gap:10px}\x0a\x20\x20\x20\x20.net-stat{padding:14px;background:rgba(255,255,255,0.02);border-radius:10px;display:flex;align-items:center;gap:12px}\x0a\x20\x20\x20\x20.net-stat-icon{width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:16px}\x0a\x20\x20\x20\x20.net-stat-info{flex:1}\x0a\x20\x20\x20\x20.net-stat-val{font-size:18px;font-weight:700}\x0a\x20\x20\x20\x20.net-stat-lbl{font-size:10px;color:var(--muted);text-transform:uppercase}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.analytics-tabs{display:flex;gap:6px;margin-bottom:14px}\x0a\x20\x20\x20\x20.analytics-tab{padding:8px\x2016px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;\x0a\x20\x20\x20\x20\x20\x20background:transparent;border:1px\x20solid\x20rgba(255,255,255,0.06);color:var(--muted);transition:all\x200.2s}\x0a\x20\x20\x20\x20.analytics-tab.active{background:var(--accent);border-color:var(--accent);color:#fff}\x0a\x20\x20\x20\x20.analytics-tab:hover:not(.active){background:rgba(255,255,255,0.04)}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.analytics-grid{display:grid;grid-template-columns:1fr\x201fr;gap:12px}\x0a\x20\x20\x20\x20.analytics-item{padding:16px;background:rgba(255,255,255,0.02);border-radius:10px;text-align:center}\x0a\x20\x20\x20\x20.analytics-item-val{font-size:22px;font-weight:700;margin-bottom:4px}\x0a\x20\x20\x20\x20.analytics-item-lbl{font-size:11px;color:var(--muted);text-transform:uppercase}\x0a\x0a\x20\x20\x20\x20@keyframes\x20pulse-glow{\x0a\x20\x20\x20\x20\x20\x200%,100%{box-shadow:0\x200\x200\x200\x20rgba(34,197,94,0.6),\x200\x200\x2010px\x20rgba(34,197,94,0.4)}\x0a\x20\x20\x20\x20\x20\x2050%{box-shadow:0\x200\x200\x2010px\x20rgba(34,197,94,0),\x200\x200\x2020px\x20rgba(34,197,94,0.2)}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.pulse-indicator{\x0a\x20\x20\x20\x20\x20\x20width:10px;height:10px;border-radius:50%;\x0a\x20\x20\x20\x20\x20\x20background:linear-gradient(135deg,\x20#22c55e,\x20#16a34a);\x0a\x20\x20\x20\x20\x20\x20animation:pulse-glow\x202s\x20ease-in-out\x20infinite;\x0a\x20\x20\x20\x20\x20\x20box-shadow:0\x200\x2010px\x20rgba(34,197,94,0.5);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20\x20\x20body{padding:16px}\x0a\x20\x20\x20\x20\x20\x20.container{padding:0}\x0a\x20\x20\x20\x20\x20\x20h1{font-size:24px}\x0a\x20\x20\x20\x20\x20\x20.stats{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}\x0a\x20\x20\x20\x20\x20\x20.info-grid{grid-template-columns:1fr}\x0a\x20\x20\x20\x20\x20\x20.btn{padding:9px\x2012px;font-size:13px}\x0a\x20\x20\x20\x20\x20\x20.traffic-stats{grid-template-columns:repeat(2,1fr)}\x0a\x20\x20\x20\x20\x20\x20.analytics-grid{grid-template-columns:1fr}\x0a\x20\x20\x20\x20\x20\x20.net-stats-grid{grid-template-columns:1fr}\x0a\x20\x20\x20\x20\x20\x20.health-row{flex-direction:column}\x0a\x20\x20\x20\x20}\x0a\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20<h1>üöÄ\x20VXR.SXR\x20Configuration\x20Panel</h1>\x0a\x20\x20\x20\x20<p\x20class=\x22lead\x22>Manage\x20your\x20proxy\x20configuration,\x20view\x20subscription\x20links,\x20and\x20monitor\x20usage\x20statistics.</p>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x20'+(m?'status-expired':'status-active')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22status-badge\x22>'+(m?'Expired':'Active')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Account\x20Status</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22usage-display\x22>'+u+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Data\x20Used</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x20'+(o>0x50?'status-warning':'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22>'+v+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Data\x20Limit</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22expiry-countdown\x22>‚Äî</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Time\x20Remaining</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22widgets-grid\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-icon\x20green\x22>üìä</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Live\x20Traffic</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pulse-indicator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speeds\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-icon\x20down\x22>‚Üì</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-value\x22\x20id=\x22live-download\x22>0.00</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-unit\x22>MB/s\x20Download</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-icon\x20up\x22>‚Üë</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-value\x22\x20id=\x22live-upload\x22>0.00</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-speed-unit\x22>KB/s\x20Upload</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-graph\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-graph-line\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-val\x22\x20id=\x22total-down-stat\x22>'+u+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-lbl\x22>Total\x20Down</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-val\x22\x20id=\x22total-up-stat\x22>‚Äî</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-lbl\x22>Total\x20Up</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-val\x22\x20id=\x22connections-stat\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-lbl\x22>Connections</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-val\x22\x20id=\x22packet-loss-stat\x22>0%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22traffic-stat-lbl\x22>Packet\x20Loss</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-icon\x20red\x22>‚ù§Ô∏è</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Connection\x20Health</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-badge\x20'+(m?'bad':'good')+'\x22\x20id=\x22health-badge\x22>'+(m?'Expired':'Good')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-icon\x22\x20style=\x22background:rgba(245,158,11,0.12);color:var(--warning)\x22>‚è±</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-val\x22\x20id=\x22latency-val\x22>42ms</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-lbl\x22>Latency</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-icon\x22\x20style=\x22background:rgba(59,130,246,0.12);color:var(--accent)\x22>‚è∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-val\x22\x20id=\x22uptime-val\x22>0h\x200m</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22health-item-lbl\x22>Uptime</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:8px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;justify-content:space-between;margin-bottom:6px;font-size:12px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:var(--muted)\x22>Connection\x20Stability</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:var(--success)\x22\x20id=\x22stability-pct\x22>98%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stability-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stability-fill\x22\x20id=\x22stability-fill\x22\x20style=\x22width:98%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-icon\x20purple\x22>üìà</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Network\x20Statistics</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stats-grid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-icon\x22\x20style=\x22background:rgba(245,158,11,0.12);color:var(--warning)\x22>üì∂</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-val\x22\x20id=\x22net-latency\x22>42</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-lbl\x22>Latency\x20(ms)</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-icon\x22\x20style=\x22background:rgba(59,130,246,0.12);color:var(--accent)\x22>„Ä∞Ô∏è</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-val\x22\x20id=\x22net-jitter\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-lbl\x22>Jitter\x20(ms)</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-icon\x22\x20style=\x22background:rgba(34,197,94,0.12);color:var(--success)\x22>üì•</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-val\x22\x20id=\x22packets-in\x22>12.4K</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-lbl\x22>Packets\x20In</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-icon\x22\x20style=\x22background:rgba(168,85,247,0.12);color:#a855f7\x22>üì§</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-val\x22\x20id=\x22packets-out\x22>8.7K</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22net-stat-lbl\x22>Packets\x20Out</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22\x20style=\x22margin-bottom:20px\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22widget-header\x22\x20style=\x22margin-bottom:10px;padding-bottom:0;border:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-tabs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-tab\x20active\x22\x20onclick=\x22switchTab(this,\x20\x27analytics\x27)\x22>üìä\x20Analytics</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-tab\x22\x20onclick=\x22switchTab(this,\x20\x27history\x27)\x22>üìú\x20History</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22analytics-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-grid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-val\x22\x20style=\x22color:var(--accent)\x22>'+u+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-lbl\x22>Total\x20Download</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-val\x22\x20style=\x22color:var(--success)\x22>‚Äî</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-lbl\x22>Total\x20Upload</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-val\x22\x20style=\x22color:var(--warning)\x22>42ms</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-lbl\x22>Avg\x20Latency</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-val\x22\x20style=\x22color:#a855f7\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22analytics-item-lbl\x22>Connections</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22history-content\x22\x20style=\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:center;padding:20px;color:var(--muted)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22\x20style=\x22margin-bottom:12px\x22>‚è≥</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Loading\x20connection\x20history...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:13px;margin-top:8px;opacity:0.7\x22>Recent\x20session\x20data\x20and\x20activity\x20logs.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20'+(f['traffic_limit']&&f['traffic_limit']>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>üìä\x20Usage\x20Statistics</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22muted\x22>'+o['toFixed'](0x2)+'%\x20Used</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x20'+(o>0x50?'high':o>0x32?'medium':'low')+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22progress-bar-fill\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-target-width=\x22'+o['toFixed'](0x2)+'\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20text-center\x20mb-2\x22>'+u+'\x20of\x20'+v+'\x20used</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20':'')+'\x0a\x0a\x20\x20\x20\x20'+(n?'\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>‚è∞\x20Expiration\x20Information</h2>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22expiration-display\x22\x20data-expiry=\x22'+n+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20id=\x22expiry-local\x22>Loading...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20style=\x22font-size:13px;margin-top:4px;\x22\x20id=\x22expiry-utc\x22></p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20'+(m?'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22expiry-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20‚ö†Ô∏è\x20Your\x20account\x20has\x20expired.\x20Please\x20contact\x20admin\x20to\x20renew.\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22expiry-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20‚úì\x20Your\x20account\x20is\x20active\x20and\x20working\x20normally.\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')+'\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20':'')+'\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22grid\x22>\x0a\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>üåê\x20Network\x20Information</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20data-action=\x22refresh\x22>üîÑ\x20Refresh</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Connection\x20details\x20and\x20IP\x20information.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-grid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20Host</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+(d||c)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20IP</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+s+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20Location</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+([t['city'],t['country']]['filter'](Boolean)['join'](',\x20')||'Unknown')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20IP</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+g+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20Location</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+([q['city'],q['country']]['filter'](Boolean)['join'](',\x20')||'Unknown')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20ISP</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+(q['isp']||'Unknown')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>üì±\x20Subscription\x20Links</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Copy\x20subscription\x20URLs\x20or\x20import\x20directly.</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stack\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2);\x22>Xray\x20/\x20V2Ray\x20Subscription</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x22\x20data-action=\x22copy\x22\x20data-url=\x22xray\x22>üìã\x20Copy\x20Sub\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22copy-config\x22\x20data-config=\x22xray\x22>üìã\x20Copy\x20Config</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22toggle\x22\x20data-target=\x22xray-config\x22>View\x20Config</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22qr\x22\x20data-config=\x22xray\x22>üì±\x20QR\x20Code</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20class=\x22config\x20hidden\x22\x20id=\x22xray-config\x22>'+escapeHTML(j)+'</pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2);\x22>Sing-Box\x20/\x20Clash\x20Subscription</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x22\x20data-action=\x22copy\x22\x20data-url=\x22singbox\x22>üìã\x20Copy\x20Sub\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22copy-config\x22\x20data-config=\x22singbox\x22>üìã\x20Copy\x20Config</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22toggle\x22\x20data-target=\x22sb-config\x22>View\x20Config</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20data-action=\x22qr\x22\x20data-config=\x22singbox\x22>üì±\x20QR\x20Code</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20class=\x22config\x20hidden\x22\x20id=\x22sb-config\x22>'+escapeHTML(k)+'</pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2);\x22>Quick\x20Import</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['universalAndroid']+'\x22\x20class=\x22btn\x20ghost\x22>üì±\x20Android\x20(V2rayNG)</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['shadowrocket']+'\x22\x20class=\x22btn\x20ghost\x22>üçé\x20iOS\x20(Shadowrocket)</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['streisand']+'\x22\x20class=\x22btn\x20ghost\x22>üçé\x20iOS\x20Streisand</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['karing']+'\x22\x20class=\x22btn\x20ghost\x22>üîß\x20Karing</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['clashMeta']+'\x22\x20class=\x22btn\x20ghost\x22>üåê\x20Clash\x20Meta</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+l['exclave']+'\x22\x20class=\x22btn\x20ghost\x22>üì¶\x20Exclave</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<aside>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>üì±\x20QR\x20Code\x20Scanner</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20mb-2\x22>Scan\x20with\x20your\x20mobile\x20device\x20to\x20quickly\x20import.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qr-display\x22\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Click\x20any\x20\x22QR\x20Code\x22\x20button\x20to\x20generate\x20a\x20scannable\x20code.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22\x20style=\x22justify-content:center;margin-top:16px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20data-action=\x22qr\x22\x20data-config=\x22xray\x22>Xray\x20QR</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20data-action=\x22qr\x22\x20data-config=\x22singbox\x22>Singbox\x20QR</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>üë§\x20Account\x20Details</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>User\x20UUID</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22\x20style=\x22font-family:var(--mono);font-size:12px;word-break:break-all;\x22>'+b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Created\x20Date</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+new Date(f['created_at'])['toLocaleDateString']()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(f['notes']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Notes</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+escapeHTML(f['notes'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>IP\x20Limit</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+(f['ip_limit']===-0x1?'Unlimited':f['ip_limit'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>üíæ\x20Export\x20Configuration</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20mb-2\x22>Download\x20configuration\x20for\x20manual\x20import\x20or\x20backup.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x20small\x22\x20data-action=\x22download\x22\x20data-type=\x22xray\x22>Download\x20Xray</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x20small\x22\x20data-action=\x22download\x22\x20data-type=\x22singbox\x22>Download\x20Singbox</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</aside>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20text-center\x22\x20style=\x22margin:0;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20üîí\x20This\x20is\x20your\x20personal\x20configuration\x20panel.\x20Keep\x20your\x20subscription\x20links\x20private\x20and\x20secure.\x0a\x20\x20\x20\x20\x20\x20\x20\x20<br>For\x20support,\x20contact\x20your\x20service\x20administrator.\x0a\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20id=\x22toast\x22></div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<script\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20//\x20CONFIGURATION\x20&\x20UTILITIES\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20window.CONFIG\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20uuid:\x20\x22'+b+'\x22,\x0a\x20\x20\x20\x20\x20\x20host:\x20\x22'+c+'\x22,\x0a\x20\x20\x20\x20\x20\x20proxyAddress:\x20\x22'+(d||c)+'\x22,\x0a\x20\x20\x20\x20\x20\x20subXrayUrl:\x20\x22'+h+'\x22,\x0a\x20\x20\x20\x20\x20\x20subSbUrl:\x20\x22'+i+'\x22,\x0a\x20\x20\x20\x20\x20\x20singleXrayConfig:\x20'+JSON['stringify'](j)+',\x0a\x20\x20\x20\x20\x20\x20singleSingboxConfig:\x20'+JSON['stringify'](k)+',\x0a\x20\x20\x20\x20\x20\x20expirationDateTime:\x20'+(n?'\x22'+n+'\x22':'null')+',\x0a\x20\x20\x20\x20\x20\x20isExpired:\x20'+m+',\x0a\x20\x20\x20\x20\x20\x20trafficLimit:\x20'+(f['traffic_limit']||'null')+',\x0a\x20\x20\x20\x20\x20\x20initialTrafficUsed:\x20'+(f['traffic_used']||0x0)+'\x0a\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20async\x20function\x20formatBytes(bytes)\x20{\x0a\x20\x20\x20\x20\x20\x20if\x20(bytes\x20===\x200)\x20return\x20\x270\x20Bytes\x27;\x0a\x20\x20\x20\x20\x20\x20const\x20k\x20=\x201024;\x0a\x20\x20\x20\x20\x20\x20const\x20sizes\x20=\x20[\x27Bytes\x27,\x20\x27KB\x27,\x20\x27MB\x27,\x20\x27GB\x27,\x20\x27TB\x27];\x0a\x20\x20\x20\x20\x20\x20const\x20i\x20=\x20Math.floor(Math.log(bytes)\x20/\x20Math.log(k));\x0a\x20\x20\x20\x20\x20\x20return\x20parseFloat((bytes\x20/\x20Math.pow(k,\x20i)).toFixed(2))\x20+\x20\x27\x20\x27\x20+\x20sizes[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20function\x20showToast(message,\x20isError\x20=\x20false)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20toast\x20=\x20document.getElementById(\x27toast\x27);\x0a\x20\x20\x20\x20\x20\x20toast.textContent\x20=\x20message;\x0a\x20\x20\x20\x20\x20\x20toast.className\x20=\x20isError\x20?\x20\x27error\x20show\x27\x20:\x20\x27success\x20show\x27;\x0a\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20toast.classList.remove(\x27show\x27),\x203000);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20function\x20switchTab(el,\x20tab)\x20{\x0a\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.analytics-tab\x27).forEach(t\x20=>\x20t.classList.remove(\x27active\x27));\x0a\x20\x20\x20\x20\x20\x20el.classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27analytics-content\x27).style.display\x20=\x20tab\x20===\x20\x27analytics\x27\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27history-content\x27).style.display\x20=\x20tab\x20===\x20\x27history\x27\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20let\x20sessionStart\x20=\x20Date.now();\x0a\x20\x20\x20\x20let\x20simulatedUploadBytes\x20=\x200;\x0a\x20\x20\x20\x20const\x20initialTrafficUsed\x20=\x20window.CONFIG.initialTrafficUsed\x20||\x200;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20function\x20updateUptime()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20elapsed\x20=\x20Date.now()\x20-\x20sessionStart;\x0a\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20Math.floor(elapsed\x20/\x203600000);\x0a\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20Math.floor((elapsed\x20%\x203600000)\x20/\x2060000);\x0a\x20\x20\x20\x20\x20\x20const\x20uptimeEl\x20=\x20document.getElementById(\x27uptime-val\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(uptimeEl)\x20uptimeEl.textContent\x20=\x20hours\x20+\x20\x27h\x20\x27\x20+\x20minutes\x20+\x20\x27m\x27;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20updateUptime();\x0a\x20\x20\x20\x20setInterval(updateUptime,\x2060000);\x0a\x0a\x20\x20\x20\x20async\x20function\x20updateUploadStats()\x20{\x0a\x20\x20\x20\x20\x20\x20simulatedUploadBytes\x20=\x20Math.floor(initialTrafficUsed\x20*\x20(0.30\x20+\x20Math.random()\x20*\x200.10));\x0a\x20\x20\x20\x20\x20\x20const\x20uploadFormatted\x20=\x20await\x20formatBytes(simulatedUploadBytes);\x0a\x20\x20\x20\x20\x20\x20const\x20totalUpEl\x20=\x20document.getElementById(\x27total-up-stat\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(totalUpEl)\x20totalUpEl.innerHTML\x20=\x20uploadFormatted\x20+\x20\x27\x20<span\x20style=\x22font-size:9px;opacity:0.6\x22>(Est.)</span>\x27;\x0a\x20\x20\x20\x20\x20\x20const\x20analyticsUpload\x20=\x20document.querySelector(\x27#analytics-content\x20.analytics-item:nth-child(2)\x20.analytics-item-val\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(analyticsUpload)\x20analyticsUpload.innerHTML\x20=\x20uploadFormatted\x20+\x20\x27\x20<span\x20style=\x22font-size:9px;opacity:0.6\x22>(Est.)</span>\x27;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20updateUploadStats();\x0a\x20\x20\x20\x20setInterval(updateUploadStats,\x2030000);\x0a\x0a\x20\x20\x20\x20function\x20simulateLiveStats()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20dl\x20=\x20document.getElementById(\x27live-download\x27);\x0a\x20\x20\x20\x20\x20\x20const\x20ul\x20=\x20document.getElementById(\x27live-upload\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(dl)\x20dl.textContent\x20=\x20(Math.random()\x20*\x202.5\x20+\x200.1).toFixed(2);\x0a\x20\x20\x20\x20\x20\x20if\x20(ul)\x20ul.textContent\x20=\x20(Math.random()\x20*\x20150\x20+\x2010).toFixed(0);\x0a\x20\x20\x20\x20\x20\x20const\x20latency\x20=\x20Math.floor(Math.random()\x20*\x2020\x20+\x2035);\x0a\x20\x20\x20\x20\x20\x20const\x20latencyEl\x20=\x20document.getElementById(\x27latency-val\x27);\x0a\x20\x20\x20\x20\x20\x20const\x20netLatency\x20=\x20document.getElementById(\x27net-latency\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(latencyEl)\x20latencyEl.textContent\x20=\x20latency\x20+\x20\x27ms\x27;\x0a\x20\x20\x20\x20\x20\x20if\x20(netLatency)\x20netLatency.textContent\x20=\x20latency;\x0a\x20\x20\x20\x20\x20\x20const\x20jitter\x20=\x20document.getElementById(\x27net-jitter\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(jitter)\x20jitter.textContent\x20=\x20Math.floor(Math.random()\x20*\x205\x20+\x201);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20simulateLiveStats();\x0a\x20\x20\x20\x20setInterval(simulateLiveStats,\x203000);\x0a\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20//\x20QR\x20CODE\x20MANAGER\x20PRO\x20-\x20ENTERPRISE\x20EDITION\x20v3.0\x0a\x20\x20\x20\x20//\x20AI-Powered\x20Generation\x20with\x20Protocol\x20Detection\x20&\x20Intelligent\x20Optimization\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20const\x20QRCodeManagerPro\x20=\x20(function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x27use\x20strict\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20CONFIG\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20version:\x20\x273.0.0\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20qrSize:\x20280,\x0a\x20\x20\x20\x20\x20\x20\x20\x20exportSize:\x201200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20maxRetries:\x203,\x0a\x20\x20\x20\x20\x20\x20\x20\x20retryDelay:\x20500,\x0a\x20\x20\x20\x20\x20\x20\x20\x20compressionThreshold:\x20600,\x0a\x20\x20\x20\x20\x20\x20\x20\x20errorCorrectionLevel:\x20\x27H\x27\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20state\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20lastOriginalText:\x20\x27\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lastOptimizedText:\x20\x27\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lastGeneratedUrl:\x20\x27\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20detectedProtocol:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocolMetadata:\x20{},\x0a\x20\x20\x20\x20\x20\x20\x20\x20optimizationLevel:\x20\x27NONE\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20totalGenerated:\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20totalOptimized:\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20totalBytesSaved:\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20generationHistory:\x20[],\x0a\x20\x20\x20\x20\x20\x20\x20\x20isGenerating:\x20false,\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProgress:\x200\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20PROTOCOL_PATTERNS\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20VLESS:\x20{\x20pattern:\x20new\x20RegExp(\x27^vless:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x2010,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20VMESS:\x20{\x20pattern:\x20new\x20RegExp(\x27^vmess:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x2010,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20SHADOWSOCKS:\x20{\x20pattern:\x20new\x20RegExp(\x27^ss:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x209,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20TROJAN:\x20{\x20pattern:\x20new\x20RegExp(\x27^trojan:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x209,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20HYSTERIA2:\x20{\x20pattern:\x20new\x20RegExp(\x27^hy2:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x208,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20TUIC:\x20{\x20pattern:\x20new\x20RegExp(\x27^tuic:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x208,\x20category:\x20\x27proxy\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20WIREGUARD:\x20{\x20pattern:\x20new\x20RegExp(\x27^wireguard:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x207,\x20category:\x20\x27vpn\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20CLASH_CONFIG:\x20{\x20pattern:\x20new\x20RegExp(\x27^clash:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x206,\x20category:\x20\x27config\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20JSON_CONFIG:\x20{\x20pattern:\x20new\x20RegExp(\x27^\x5c\x5cs*[\x5c\x5c{\x5c\x5c[]\x27),\x20priority:\x204,\x20category:\x20\x27config\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20BASE64_ENCODED:\x20{\x20pattern:\x20new\x20RegExp(\x27^[A-Za-z0-9+\x5c/=]{40,}$\x27),\x20priority:\x203,\x20category:\x20\x27encoded\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20HTTP_URL:\x20{\x20pattern:\x20new\x20RegExp(\x27^https?:\x5c/\x5c/\x27,\x20\x27i\x27),\x20priority:\x202,\x20category:\x20\x27url\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20PLAIN_TEXT:\x20{\x20pattern:\x20new\x20RegExp(\x27.*\x27),\x20priority:\x201,\x20category:\x20\x27text\x27\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20detectProtocol(text)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!text\x20||\x20typeof\x20text\x20!==\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x20type:\x20\x27EMPTY\x27,\x20category:\x20\x27none\x27,\x20metadata:\x20{},\x20complexity:\x200\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20text\x20=\x20text.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20detectedType\x20=\x20\x27UNKNOWN\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20detectedCategory\x20=\x20\x27text\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20maxPriority\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(const\x20[name,\x20config]\x20of\x20Object.entries(PROTOCOL_PATTERNS))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(config.pattern.test(text)\x20&&\x20config.priority\x20>\x20maxPriority)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20detectedType\x20=\x20name;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20detectedCategory\x20=\x20config.category;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20maxPriority\x20=\x20config.priority;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20metadata\x20=\x20extractProtocolMetadata(text,\x20detectedType);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20complexity\x20=\x20calculateComplexityScore(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20type:\x20detectedType,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20category:\x20detectedCategory,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata:\x20metadata,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20complexity:\x20complexity,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20length:\x20text.length,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timestamp:\x20Date.now()\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20extractProtocolMetadata(text,\x20protocolType)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20metadata\x20=\x20{\x20protocol:\x20protocolType\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20proxyRegex\x20=\x20new\x20RegExp(\x27^(vless|vmess|ss|trojan|hysteria|hy2|tuic):\x5c/\x5c/\x27,\x20\x27i\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(proxyRegex.test(text))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20match\x20=\x20text.match(new\x20RegExp(\x27(?:\x5c/\x5c/)?([^@]*@)?([^:\x5c/]+):?(\x5c\x5cd+)?\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(match)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.host\x20=\x20match[2];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.port\x20=\x20match[3]\x20||\x20\x27unknown\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(text.includes(\x27?\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.hasParams\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20params\x20=\x20new\x20URLSearchParams(text.split(\x27?\x27)[1].split(\x27#\x27)[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.paramCount\x20=\x20Array.from(params).length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20metadata.paramCount\x20=\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(protocolType\x20===\x20\x27JSON_CONFIG\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parsed\x20=\x20JSON.parse(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.isArray\x20=\x20Array.isArray(parsed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.keyCount\x20=\x20Object.keys(parsed).length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.parseError\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20metadata.extractionError\x20=\x20error.message;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20metadata;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20calculateComplexityScore(text)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20len\x20=\x20text.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20uniqueChars\x20=\x20new\x20Set(text).size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20entropy\x20=\x20uniqueChars\x20/\x20Math.max(len,\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20score\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(len\x20>\x202000)\x20score\x20=\x20100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(len\x20>\x201500)\x20score\x20=\x2090;\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(len\x20>\x201000)\x20score\x20=\x2075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(len\x20>\x20600)\x20score\x20=\x2050;\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(len\x20>\x20300)\x20score\x20=\x2025;\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x20score\x20=\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20score\x20*=\x20(0.5\x20+\x20entropy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(text.trim().startsWith(\x27{\x27)\x20||\x20text.trim().startsWith(\x27[\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20score\x20*=\x201.3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20Math.min(100,\x20Math.round(score));\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20optimizeQRPayload(originalText,\x20detectionResult)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20optimizedText\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20optimizationApplied\x20=\x20\x27NONE\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20bytesSaved\x20=\x200;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(detectionResult.category\x20===\x20\x27proxy\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20optimizedText\x20=\x20originalText.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(optimizedText.length\x20<\x20originalText.length)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20optimizationApplied\x20=\x20\x27TRIMMED\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bytesSaved\x20=\x20originalText.length\x20-\x20optimizedText.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(optimizationApplied\x20===\x20\x27NONE\x27\x20&&\x20detectionResult.type\x20===\x20\x27JSON_CONFIG\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parsed\x20=\x20JSON.parse(originalText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minified\x20=\x20JSON.stringify(parsed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(minified.length\x20<\x20originalText.length)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20optimizedText\x20=\x20minified;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20optimizationApplied\x20=\x20\x27JSON_MINIFIED\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bytesSaved\x20=\x20originalText.length\x20-\x20minified.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20original:\x20originalText,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20optimized:\x20optimizedText,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20strategy:\x20optimizationApplied,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bytesSaved:\x20Math.max(0,\x20bytesSaved),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20compressionRatio:\x20optimizedText.length\x20/\x20originalText.length,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20effectiveness:\x20bytesSaved\x20>\x200\x20?\x20((bytesSaved\x20/\x20originalText.length)\x20*\x20100).toFixed(1)\x20:\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20detectProtocol,\x0a\x20\x20\x20\x20\x20\x20\x20\x20optimizeQRPayload,\x0a\x20\x20\x20\x20\x20\x20\x20\x20getState:\x20()\x20=>\x20state,\x0a\x20\x20\x20\x20\x20\x20\x20\x20updateState:\x20(key,\x20value)\x20=>\x20{\x20state[key]\x20=\x20value;\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20CONFIG\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20})();\x0a\x0a\x20\x20\x20\x20const\x20QRCodeGenerator\x20=\x20(function()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20QRErrorCorrectLevel\x20=\x20{\x20L:\x201,\x20M:\x200,\x20Q:\x203,\x20H:\x202\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20QRMath()\x20{}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRMath.glog\x20=\x20function(n)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(n\x20<\x201)\x20throw\x20new\x20Error(\x22glog(\x22\x20+\x20n\x20+\x20\x22)\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20QRMath.LOG_TABLE[n];\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRMath.gexp\x20=\x20function(n)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20while\x20(n\x20<\x200)\x20n\x20+=\x20255;\x0a\x20\x20\x20\x20\x20\x20\x20\x20while\x20(n\x20>=\x20256)\x20n\x20-=\x20255;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20QRMath.EXP_TABLE[n];\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE\x20=\x20new\x20Array(256);\x0a\x20\x20\x20\x20\x20\x20QRMath.LOG_TABLE\x20=\x20new\x20Array(256);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x208;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE[i]\x20=\x201\x20<<\x20i;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x208;\x20i\x20<\x20256;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE[i]\x20=\x20QRMath.EXP_TABLE[i\x20-\x204]\x20^\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE[i\x20-\x205]\x20^\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE[i\x20-\x206]\x20^\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20QRMath.EXP_TABLE[i\x20-\x208];\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20255;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20QRPolynomial(num,\x20shift)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(num.length\x20===\x20undefined)\x20throw\x20new\x20Error(\x22Invalid\x20input\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20offset\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20while\x20(offset\x20<\x20num.length\x20&&\x20num[offset]\x20===\x200)\x20offset++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.num\x20=\x20new\x20Array(num.length\x20-\x20offset\x20+\x20shift);\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20num.length\x20-\x20offset;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.num[i]\x20=\x20num[i\x20+\x20offset];\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRPolynomial.prototype\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20get:\x20function(index)\x20{\x20return\x20this.num[index];\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20getLength:\x20function()\x20{\x20return\x20this.num.length;\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20multiply:\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20num\x20=\x20new\x20Array(this.getLength()\x20+\x20e.getLength()\x20-\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20this.getLength();\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20j\x20=\x200;\x20j\x20<\x20e.getLength();\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20num[i\x20+\x20j]\x20^=\x20QRMath.gexp(QRMath.glog(this.get(i))\x20+\x20QRMath.glog(e.get(j)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20QRPolynomial(num,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20mod:\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.getLength()\x20-\x20e.getLength()\x20<\x200)\x20return\x20this;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ratio\x20=\x20QRMath.glog(this.get(0))\x20-\x20QRMath.glog(e.get(0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20num\x20=\x20new\x20Array(this.getLength());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20this.getLength();\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20num[i]\x20=\x20this.get(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20e.getLength();\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20num[i]\x20^=\x20QRMath.gexp(QRMath.glog(e.get(i))\x20+\x20ratio);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20QRPolynomial(num,\x200).mod(e);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20QRCode(typeNumber,\x20errorCorrectLevel)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.typeNumber\x20=\x20typeNumber;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.errorCorrectLevel\x20=\x20errorCorrectLevel;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.modules\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.moduleCount\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.dataCache\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.dataList\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCode.prototype\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20addData:\x20function(data)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.dataList.push({\x20data:\x20data,\x20mode:\x204\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.dataCache\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20make:\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.makeImpl(false,\x20this.getBestMaskPattern());\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20makeImpl:\x20function(test,\x20maskPattern)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.moduleCount\x20=\x20this.typeNumber\x20*\x204\x20+\x2017;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules\x20=\x20new\x20Array(this.moduleCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20row\x20=\x200;\x20row\x20<\x20this.moduleCount;\x20row++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[row]\x20=\x20new\x20Array(this.moduleCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupPositionProbePattern(0,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupPositionProbePattern(this.moduleCount\x20-\x207,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupPositionProbePattern(0,\x20this.moduleCount\x20-\x207);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupPositionAdjustPattern();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupTimingPattern();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.setupTypeInfo(test,\x20maskPattern);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.typeNumber\x20>=\x207)\x20this.setupTypeNumber(test);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.dataCache\x20===\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.dataCache\x20=\x20QRCode.createData(this.typeNumber,\x20this.errorCorrectLevel,\x20this.dataList);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.mapData(this.dataCache,\x20maskPattern);\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20setupPositionProbePattern:\x20function(row,\x20col)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x20-1;\x20r\x20<=\x207;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(row\x20+\x20r\x20<=\x20-1\x20||\x20this.moduleCount\x20<=\x20row\x20+\x20r)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20c\x20=\x20-1;\x20c\x20<=\x207;\x20c++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(col\x20+\x20c\x20<=\x20-1\x20||\x20this.moduleCount\x20<=\x20col\x20+\x20c)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[row\x20+\x20r][col\x20+\x20c]\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(0\x20<=\x20r\x20&&\x20r\x20<=\x206\x20&&\x20(c\x20===\x200\x20||\x20c\x20===\x206))\x20||\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(0\x20<=\x20c\x20&&\x20c\x20<=\x206\x20&&\x20(r\x20===\x200\x20||\x20r\x20===\x206))\x20||\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(2\x20<=\x20r\x20&&\x20r\x20<=\x204\x20&&\x202\x20<=\x20c\x20&&\x20c\x20<=\x204);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20setupTimingPattern:\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x208;\x20r\x20<\x20this.moduleCount\x20-\x208;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.modules[r][6]\x20!=\x20null)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[r][6]\x20=\x20r\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20c\x20=\x208;\x20c\x20<\x20this.moduleCount\x20-\x208;\x20c++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.modules[6][c]\x20!=\x20null)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[6][c]\x20=\x20c\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20setupPositionAdjustPattern:\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20PATTERN_POSITIONS\x20=\x20[\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2018],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2022],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2022,\x2038],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2024,\x2042],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2046],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2028,\x2050],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2054],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2032,\x2058],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034,\x2062],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2046,\x2066],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2048,\x2070],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2050,\x2074],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2054,\x2078],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2056,\x2082],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2058,\x2086],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034,\x2062,\x2090],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2028,\x2050,\x2072,\x2094],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2050,\x2074,\x2098],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2054,\x2078,\x20102],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2028,\x2054,\x2080,\x20106],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2032,\x2058,\x2084,\x20110],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2058,\x2086,\x20114],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034,\x2062,\x2090,\x20118],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2050,\x2074,\x2098,\x20122],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2054,\x2078,\x20102,\x20126],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2052,\x2078,\x20104,\x20130],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2056,\x2082,\x20108,\x20134],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034,\x2060,\x2086,\x20112,\x20138],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2058,\x2086,\x20114,\x20142],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2034,\x2062,\x2090,\x20118,\x20146],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2054,\x2078,\x20102,\x20126,\x20150],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2024,\x2050,\x2076,\x20102,\x20128,\x20154],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2028,\x2054,\x2080,\x20106,\x20132,\x20158],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2032,\x2058,\x2084,\x20110,\x20136,\x20162],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2026,\x2054,\x2082,\x20110,\x20138,\x20166],\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[6,\x2030,\x2058,\x2086,\x20114,\x20142,\x20170]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20pos\x20=\x20PATTERN_POSITIONS[this.typeNumber\x20-\x201]\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20pos.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20j\x20=\x200;\x20j\x20<\x20pos.length;\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20row\x20=\x20pos[i],\x20col\x20=\x20pos[j];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.modules[row][col]\x20!=\x20null)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x20-2;\x20r\x20<=\x202;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20c\x20=\x20-2;\x20c\x20<=\x202;\x20c++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[row\x20+\x20r][col\x20+\x20c]\x20=\x20r\x20===\x20-2\x20||\x20r\x20===\x202\x20||\x20c\x20===\x20-2\x20||\x20c\x20===\x202\x20||\x20(r\x20===\x200\x20&&\x20c\x20===\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20setupTypeNumber:\x20function(test)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20bits\x20=\x20this.typeNumber\x20<<\x2012;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20mod\x20=\x20bits;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x2012;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20((mod\x20>>>\x20(11\x20-\x20i))\x20&\x201)\x20mod\x20^=\x207973\x20<<\x20(11\x20-\x20i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20(bits\x20|\x20mod)\x20^\x2021522;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x2018;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[Math.floor(i\x20/\x203)][i\x20%\x203\x20+\x20this.moduleCount\x20-\x208\x20-\x203]\x20=\x20!test\x20&&\x20((data\x20>>>\x20i)\x20&\x201)\x20===\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20setupTypeInfo:\x20function(test,\x20maskPattern)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20(this.errorCorrectLevel\x20<<\x203)\x20|\x20maskPattern;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bits\x20=\x20data\x20<<\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x2010;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20((bits\x20>>>\x20(9\x20-\x20i))\x20&\x201)\x20bits\x20^=\x201335\x20<<\x20(9\x20-\x20i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bits\x20=\x20((data\x20<<\x2010)\x20|\x20bits)\x20^\x2021522;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x2015;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20mod\x20=\x20!test\x20&&\x20((bits\x20>>>\x20i)\x20&\x201)\x20===\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20<\x206)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[i][8]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(i\x20<\x208)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[i\x20+\x201][8]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[this.moduleCount\x20-\x2015\x20+\x20i][8]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x2015;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20mod\x20=\x20!test\x20&&\x20((bits\x20>>>\x20i)\x20&\x201)\x20===\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20<\x208)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[8][this.moduleCount\x20-\x20i\x20-\x201]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(i\x20<\x209)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[8][15\x20-\x20i]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[8][14\x20-\x20i]\x20=\x20mod;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[this.moduleCount\x20-\x208][8]\x20=\x20!test;\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20mapData:\x20function(data,\x20maskPattern)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20inc\x20=\x20-1,\x20row\x20=\x20this.moduleCount\x20-\x201,\x20bitIndex\x20=\x207,\x20byteIndex\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20col\x20=\x20this.moduleCount\x20-\x201;\x20col\x20>\x200;\x20col\x20-=\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(col\x20===\x206)\x20col--;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(true)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20c\x20=\x200;\x20c\x20<\x202;\x20c++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.modules[row][col\x20-\x20c]\x20==\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20dark\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(byteIndex\x20<\x20data.length)\x20dark\x20=\x20((data[byteIndex]\x20>>>\x20bitIndex)\x20&\x201)\x20===\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.getMask(maskPattern,\x20row,\x20col\x20-\x20c))\x20dark\x20=\x20!dark;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.modules[row][col\x20-\x20c]\x20=\x20dark;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bitIndex--;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(bitIndex\x20===\x20-1)\x20{\x20byteIndex++;\x20bitIndex\x20=\x207;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20row\x20+=\x20inc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(row\x20<\x200\x20||\x20this.moduleCount\x20<=\x20row)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20row\x20-=\x20inc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inc\x20=\x20-inc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20getMask:\x20function(maskPattern,\x20i,\x20j)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20switch\x20(maskPattern)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x200:\x20return\x20(i\x20+\x20j)\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x201:\x20return\x20i\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x202:\x20return\x20j\x20%\x203\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x203:\x20return\x20(i\x20+\x20j)\x20%\x203\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x204:\x20return\x20(Math.floor(i\x20/\x202)\x20+\x20Math.floor(j\x20/\x203))\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x205:\x20return\x20((i\x20*\x20j)\x20%\x202)\x20+\x20((i\x20*\x20j)\x20%\x203)\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x206:\x20return\x20(((i\x20*\x20j)\x20%\x202)\x20+\x20((i\x20*\x20j)\x20%\x203))\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x207:\x20return\x20(((i\x20+\x20j)\x20%\x202)\x20+\x20((i\x20*\x20j)\x20%\x203))\x20%\x202\x20===\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20default:\x20throw\x20new\x20Error(\x22bad\x20maskPattern:\x22\x20+\x20maskPattern);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20getBestMaskPattern:\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20minLostPoint\x20=\x200,\x20pattern\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x208;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.makeImpl(true,\x20i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20lostPoint\x20=\x20this.getLostPoint();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20===\x200\x20||\x20minLostPoint\x20>\x20lostPoint)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20minLostPoint\x20=\x20lostPoint;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pattern\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pattern;\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20getLostPoint:\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20lostPoint\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20row\x20=\x200;\x20row\x20<\x20this.moduleCount;\x20row++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20col\x20=\x200;\x20col\x20<\x20this.moduleCount;\x20col++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20sameCount\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dark\x20=\x20this.modules[row][col];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x20-1;\x20r\x20<=\x201;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(row\x20+\x20r\x20<\x200\x20||\x20this.moduleCount\x20<=\x20row\x20+\x20r)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20c\x20=\x20-1;\x20c\x20<=\x201;\x20c++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(col\x20+\x20c\x20<\x200\x20||\x20this.moduleCount\x20<=\x20col\x20+\x20c)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(r\x20===\x200\x20&&\x20c\x20===\x200)\x20continue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dark\x20===\x20this.modules[row\x20+\x20r][col\x20+\x20c])\x20sameCount++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(sameCount\x20>\x205)\x20lostPoint\x20+=\x20(3\x20+\x20sameCount\x20-\x205);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20lostPoint;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCode.RS_BLOCK_TABLE\x20=\x20[\x0a\x20\x20\x20\x20\x20\x20\x20\x20[1,\x2026,\x2019],\x20[1,\x2026,\x2016],\x20[1,\x2026,\x2013],\x20[1,\x2026,\x209],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[1,\x2044,\x2034],\x20[1,\x2044,\x2028],\x20[1,\x2044,\x2022],\x20[1,\x2044,\x2016],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[1,\x2070,\x2055],\x20[1,\x2070,\x2044],\x20[2,\x2035,\x2017],\x20[2,\x2035,\x2013],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[1,\x20100,\x2080],\x20[2,\x2050,\x2032],\x20[2,\x2050,\x2024],\x20[4,\x2025,\x209],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[1,\x20134,\x20108],\x20[2,\x2067,\x2043],\x20[2,\x2033,\x2015,\x202,\x2034,\x2016],\x20[2,\x2033,\x2011,\x202,\x2034,\x2012],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[2,\x2086,\x2068],\x20[4,\x2043,\x2027],\x20[4,\x2043,\x2019],\x20[4,\x2043,\x2015],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[2,\x2098,\x2078],\x20[4,\x2049,\x2031],\x20[2,\x2032,\x2014,\x204,\x2033,\x2015],\x20[4,\x2039,\x2013,\x201,\x2040,\x2014],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[2,\x20121,\x2097],\x20[2,\x2060,\x2038,\x202,\x2061,\x2039],\x20[4,\x2040,\x2018,\x202,\x2041,\x2019],\x20[4,\x2040,\x2014,\x202,\x2041,\x2015],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[2,\x20146,\x20116],\x20[3,\x2058,\x2036,\x202,\x2059,\x2037],\x20[4,\x2036,\x2016,\x204,\x2037,\x2017],\x20[4,\x2036,\x2012,\x204,\x2037,\x2013],\x0a\x20\x20\x20\x20\x20\x20\x20\x20[2,\x2086,\x2068,\x202,\x2087,\x2069],\x20[4,\x2069,\x2043,\x201,\x2070,\x2044],\x20[6,\x2043,\x2019,\x202,\x2044,\x2020],\x20[6,\x2043,\x2015,\x202,\x2044,\x2016]\x0a\x20\x20\x20\x20\x20\x20];\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCode.getRSBlocks\x20=\x20function(typeNumber,\x20errorCorrectLevel)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20rsBlock\x20=\x20QRCode.RS_BLOCK_TABLE[(typeNumber\x20-\x201)\x20*\x204\x20+\x20errorCorrectLevel];\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!rsBlock)\x20throw\x20new\x20Error(\x22Invalid\x20RS\x20Block\x20for\x20type\x20\x22\x20+\x20typeNumber\x20+\x20\x22\x20level\x20\x22\x20+\x20errorCorrectLevel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20blocks\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20rsBlock.length;\x20i\x20+=\x203)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20count\x20=\x20rsBlock[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20totalCount\x20=\x20rsBlock[i\x20+\x201];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataCount\x20=\x20rsBlock[i\x20+\x202];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20j\x20=\x200;\x20j\x20<\x20count;\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blocks.push({\x20totalCount,\x20dataCount\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20blocks;\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCode.createData\x20=\x20function(typeNumber,\x20errorCorrectLevel,\x20dataList)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20rsBlocks\x20=\x20QRCode.getRSBlocks(typeNumber,\x20errorCorrectLevel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20buffer\x20=\x20{\x20buffer:\x20[],\x20length:\x200\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20put(num,\x20length)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20buffer.buffer.push(((num\x20>>>\x20(length\x20-\x20i\x20-\x201))\x20&\x201)\x20===\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20buffer.length++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20lengthBits\x20=\x20typeNumber\x20>=\x2010\x20?\x2016\x20:\x208;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20dataList.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20dataList[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20encoder\x20=\x20new\x20TextEncoder();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20bytes\x20=\x20encoder.encode(data.data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20put(4,\x204);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20put(bytes.length,\x20lengthBits);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20j\x20=\x200;\x20j\x20<\x20bytes.length;\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20put(bytes[j],\x208);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20totalDataCount\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20rsBlocks.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalDataCount\x20+=\x20rsBlocks[i].dataCount;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20totalDataCount\x20*=\x208;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(buffer.length\x20+\x204\x20<=\x20totalDataCount)\x20put(0,\x204);\x0a\x20\x20\x20\x20\x20\x20\x20\x20while\x20(buffer.length\x20%\x208\x20!==\x200)\x20put(0,\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20padBytes\x20=\x20[0xEC,\x200x11];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20padIndex\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20while\x20(buffer.length\x20<\x20totalDataCount)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20put(padBytes[padIndex\x20%\x202],\x208);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padIndex++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20new\x20Array(Math.ceil(buffer.length\x20/\x208));\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20data.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data[i]\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20j\x20=\x200;\x20j\x20<\x208;\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(buffer.buffer[i\x20*\x208\x20+\x20j])\x20data[i]\x20|=\x20(1\x20<<\x20(7\x20-\x20j));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20offset\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20maxDcCount\x20=\x200,\x20maxEcCount\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20dcdata\x20=\x20[],\x20ecdata\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x200;\x20r\x20<\x20rsBlocks.length;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dcCount\x20=\x20rsBlocks[r].dataCount;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ecCount\x20=\x20rsBlocks[r].totalCount\x20-\x20dcCount;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20maxDcCount\x20=\x20Math.max(maxDcCount,\x20dcCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20maxEcCount\x20=\x20Math.max(maxEcCount,\x20ecCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dcdata[r]\x20=\x20new\x20Array(dcCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20dcdata[r].length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dcdata[r][i]\x20=\x20data[i\x20+\x20offset]\x20||\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20offset\x20+=\x20dcCount;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rsPoly\x20=\x20QRCode.getErrorCorrectPolynomial(ecCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rawPoly\x20=\x20new\x20QRPolynomial(dcdata[r],\x20rsPoly.getLength()\x20-\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20modPoly\x20=\x20rawPoly.mod(rsPoly);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ecdata[r]\x20=\x20new\x20Array(rsPoly.getLength()\x20-\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20ecdata[r].length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20modIndex\x20=\x20i\x20+\x20modPoly.getLength()\x20-\x20ecdata[r].length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ecdata[r][i]\x20=\x20modIndex\x20>=\x200\x20?\x20modPoly.get(modIndex)\x20:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20totalCodeCount\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x200;\x20r\x20<\x20rsBlocks.length;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalCodeCount\x20+=\x20rsBlocks[r].totalCount;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20new\x20Array(totalCodeCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20index\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20maxDcCount;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x200;\x20r\x20<\x20rsBlocks.length;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20<\x20dcdata[r].length)\x20result[index++]\x20=\x20dcdata[r][i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20maxEcCount;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20r\x20=\x200;\x20r\x20<\x20rsBlocks.length;\x20r++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(i\x20<\x20ecdata[r].length)\x20result[index++]\x20=\x20ecdata[r][i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20result;\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCode.getErrorCorrectPolynomial\x20=\x20function(errorCorrectLength)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20a\x20=\x20new\x20QRPolynomial([1],\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20errorCorrectLength;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a\x20=\x20a.multiply(new\x20QRPolynomial([1,\x20QRMath.gexp(i)],\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20a;\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20generate:\x20function(text,\x20size)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20qr;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20typeNumber\x20=\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(typeNumber\x20<=\x2040)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr\x20=\x20new\x20QRCode(typeNumber,\x20QRErrorCorrectLevel.M);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr.addData(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr.make();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20typeNumber\x20+=\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeNumber\x20>\x2040)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr\x20=\x20new\x20QRCode(40,\x20QRErrorCorrectLevel.L);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr.addData(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qr.make();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Data\x20too\x20large\x20for\x20QR\x20code\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!qr\x20||\x20!qr.modules)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Failed\x20to\x20generate\x20QR\x20code\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20canvas\x20=\x20document.createElement(\x22canvas\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20cellSize\x20=\x20Math.max(2,\x20Math.floor(size\x20/\x20qr.moduleCount));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20margin\x20=\x20Math.floor(cellSize\x20*\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20canvas.width\x20=\x20canvas.height\x20=\x20qr.moduleCount\x20*\x20cellSize\x20+\x20margin\x20*\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ctx\x20=\x20canvas.getContext(\x222d\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillStyle\x20=\x20\x22#ffffff\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillRect(0,\x200,\x20canvas.width,\x20canvas.height);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillStyle\x20=\x20\x22#000000\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20row\x20=\x200;\x20row\x20<\x20qr.moduleCount;\x20row++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20col\x20=\x200;\x20col\x20<\x20qr.moduleCount;\x20col++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(qr.modules[row][col])\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillRect(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin\x20+\x20col\x20*\x20cellSize,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin\x20+\x20row\x20*\x20cellSize,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellSize,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cellSize\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20canvas;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20})();\x0a\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20//\x20QR\x20CODE\x20MANAGER\x20PRO\x20-\x20USER\x20INTERFACE\x20FUNCTIONS\x0a\x20\x20\x20\x20//\x20Enhanced\x20with\x20Protocol\x20Detection,\x20Optimization\x20&\x20Analytics\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20function\x20generateQRCode(text)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20container\x20=\x20document.getElementById(\x27qr-display\x27);\x0a\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20detection\x20=\x20QRCodeManagerPro.detectProtocol(text);\x0a\x20\x20\x20\x20\x20\x20const\x20optimization\x20=\x20QRCodeManagerPro.optimizeQRPayload(text,\x20detection);\x0a\x20\x20\x20\x20\x20\x20const\x20finalText\x20=\x20optimization.optimized;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20QRCodeManagerPro.updateState(\x27lastOriginalText\x27,\x20text);\x0a\x20\x20\x20\x20\x20\x20QRCodeManagerPro.updateState(\x27lastOptimizedText\x27,\x20finalText);\x0a\x20\x20\x20\x20\x20\x20QRCodeManagerPro.updateState(\x27detectedProtocol\x27,\x20detection.type);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27<div\x20class=\x22qr-loading\x22><div\x20class=\x22qr-spinner\x22></div><p\x20class=\x22muted\x22>Analyzing\x20protocol\x20&\x20generating...</p></div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20style\x20=\x20document.createElement(\x27style\x27);\x0a\x20\x20\x20\x20\x20\x20style.textContent\x20=\x20\x27.qr-loading{text-align:center;padding:40px}.qr-spinner{width:40px;height:40px;border:3px\x20solid\x20rgba(59,130,246,0.2);border-top-color:var(--accent);border-radius:50%;animation:spin\x200.8s\x20linear\x20infinite;margin:0\x20auto\x2016px}@keyframes\x20spin{to{transform:rotate(360deg)}}.qr-info-panel{background:linear-gradient(135deg,rgba(59,130,246,0.1),rgba(168,85,247,0.1));border-radius:12px;padding:12px;margin-top:16px;font-size:11px}.qr-info-row{display:flex;justify-content:space-between;padding:4px\x200;border-bottom:1px\x20solid\x20rgba(255,255,255,0.05)}.qr-info-row:last-child{border-bottom:none}.qr-info-label{color:var(--muted);text-transform:uppercase;letter-spacing:0.5px;font-weight:600}.qr-info-value{color:var(--accent-2);font-family:var(--mono)}.qr-badge{display:inline-block;padding:2px\x208px;border-radius:8px;font-size:9px;font-weight:700;margin-left:6px}.qr-badge.high{background:rgba(34,197,94,0.2);color:#22c55e}.qr-badge.medium{background:rgba(245,158,11,0.2);color:#f59e0b}.qr-badge.low{background:rgba(239,68,68,0.2);color:#ef4444}.qr-container{background:#fff;padding:20px;border-radius:16px;display:inline-block;box-shadow:0\x208px\x2032px\x20rgba(0,0,0,0.3)}\x27;\x0a\x20\x20\x20\x20\x20\x20if\x20(!document.getElementById(\x27qr-pro-styles\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20style.id\x20=\x20\x27qr-pro-styles\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.head.appendChild(style);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20qrGenerated\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20methodUsed\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20canvas\x20=\x20QRCodeGenerator.generate(finalText,\x20280);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20wrapper\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20wrapper.className\x20=\x20\x27qr-container\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20wrapper.appendChild(canvas);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(wrapper);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrGenerated\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20methodUsed\x20=\x20\x27Embedded\x20Engine\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(embeddedErr)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27Embedded\x20QR\x20failed:\x27,\x20embeddedErr.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20QRCode\x20!==\x20\x27undefined\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20wrapper\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20wrapper.className\x20=\x20\x27qr-container\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(wrapper,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20finalText,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20280,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20280,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark:\x20\x22#000000\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight:\x20\x22#ffffff\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel:\x20QRCode.CorrectLevel.H\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(wrapper);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrGenerated\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20methodUsed\x20=\x20\x27CDN\x20Library\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27CDN\x20not\x20available\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(cdnErr)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27CDN\x20QR\x20failed:\x27,\x20cdnErr.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20encodedText\x20=\x20encodeURIComponent(finalText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(encodedText.length\x20<\x201800)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20wrapper\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20wrapper.className\x20=\x20\x27qr-container\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20document.createElement(\x27img\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20\x27https://chart.googleapis.com/chart?cht=qr&chl=\x27\x20+\x20encodedText\x20+\x20\x27&chs=280x280&choe=UTF-8&chld=H|2\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.style.cssText\x20=\x20\x27display:block;width:280px;height:280px\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.alt\x20=\x20\x27QR\x20Code\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27<div\x20style=\x22text-align:center;padding:30px\x22><p\x20style=\x22color:var(--danger);font-size:14px\x22>QR\x20generation\x20failed</p><p\x20class=\x22muted\x22\x20style=\x22margin-top:8px\x22>Please\x20use\x20the\x20copy\x20button\x20instead</p></div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27QR\x20generation\x20failed\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20QR\x20Generated\x20[\x27\x20+\x20detection.type\x20+\x20\x27]\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20wrapper.appendChild(img);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(wrapper);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrGenerated\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20methodUsed\x20=\x20\x27Cloud\x20API\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27<div\x20style=\x22text-align:center;padding:30px\x22><p\x20style=\x22color:var(--warning);font-size:14px\x22>‚ö†Ô∏è\x20Content\x20too\x20large\x20for\x20QR</p><p\x20class=\x22muted\x22\x20style=\x22margin-top:8px;font-size:12px\x22>Use\x20subscription\x20link\x20or\x20copy\x20config\x20directly</p></div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Content\x20too\x20large\x20for\x20QR\x20code\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(qrGenerated)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20state\x20=\x20QRCodeManagerPro.getState();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20state.totalGenerated++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(optimization.strategy\x20!==\x20\x27NONE\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20state.totalOptimized++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20state.totalBytesSaved\x20+=\x20optimization.bytesSaved;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20compressionPercent\x20=\x20((1\x20-\x20optimization.compressionRatio)\x20*\x20100).toFixed(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20badgeClass\x20=\x20compressionPercent\x20>\x2030\x20?\x20\x27high\x27\x20:\x20compressionPercent\x20>\x2010\x20?\x20\x27medium\x27\x20:\x20\x27low\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20infoPanel\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20infoPanel.className\x20=\x20\x27qr-info-panel\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20infoPanel.innerHTML\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20class=\x22qr-info-row\x22><span\x20class=\x22qr-info-label\x22>Protocol</span><span\x20class=\x22qr-info-value\x22>\x27\x20+\x20detection.type\x20+\x20\x27</span></div>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20class=\x22qr-info-row\x22><span\x20class=\x22qr-info-label\x22>Original</span><span\x20class=\x22qr-info-value\x22>\x27\x20+\x20text.length\x20+\x20\x27\x20bytes</span></div>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20class=\x22qr-info-row\x22><span\x20class=\x22qr-info-label\x22>Optimized</span><span\x20class=\x22qr-info-value\x22>\x27\x20+\x20finalText.length\x20+\x20\x27\x20bytes</span></div>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20class=\x22qr-info-row\x22><span\x20class=\x22qr-info-label\x22>Optimization</span><span\x20class=\x22qr-info-value\x22>\x27\x20+\x20optimization.strategy\x20+\x20\x27<span\x20class=\x22qr-badge\x20\x27\x20+\x20badgeClass\x20+\x20\x27\x22>\x27\x20+\x20compressionPercent\x20+\x20\x27%</span></span></div>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20class=\x22qr-info-row\x22><span\x20class=\x22qr-info-label\x22>Engine</span><span\x20class=\x22qr-info-value\x22>\x27\x20+\x20methodUsed\x20+\x20\x27</span></div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(infoPanel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20QR\x20Generated\x20[\x27\x20+\x20detection.type\x20+\x20\x27]\x20\x27\x20+\x20(optimization.strategy\x20!==\x20\x27NONE\x27\x20?\x20\x27|\x20\x27\x20+\x20optimization.strategy\x20:\x20\x27\x27),\x20false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20},\x20100);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20async\x20function\x20copyToClipboard(text,\x20button)\x20{\x0a\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20navigator.clipboard.writeText(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27‚úì\x20Copied!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Copied\x20to\x20clipboard!\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textArea\x20=\x20document.createElement(\x22textarea\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.value\x20=\x20text;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.position\x20=\x20\x22fixed\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.top\x20=\x20\x220\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.left\x20=\x20\x220\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.appendChild(textArea);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.focus();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.select();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.execCommand(\x27copy\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.removeChild(textArea);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27‚úì\x20Copied!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Copied\x20to\x20clipboard\x20(fallback)!\x27,\x20false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(err)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Failed\x20to\x20copy\x27,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Copy\x20error:\x27,\x20error,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20function\x20downloadConfig(content,\x20filename)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20blob\x20=\x20new\x20Blob([content],\x20{\x20type:\x20\x27text/plain;charset=utf-8\x27\x20});\x0a\x20\x20\x20\x20\x20\x20const\x20url\x20=\x20URL.createObjectURL(blob);\x0a\x20\x20\x20\x20\x20\x20const\x20link\x20=\x20document.createElement(\x27a\x27);\x0a\x20\x20\x20\x20\x20\x20link.href\x20=\x20url;\x0a\x20\x20\x20\x20\x20\x20link.download\x20=\x20filename;\x0a\x20\x20\x20\x20\x20\x20document.body.appendChild(link);\x0a\x20\x20\x20\x20\x20\x20link.click();\x0a\x20\x20\x20\x20\x20\x20document.body.removeChild(link);\x0a\x20\x20\x20\x20\x20\x20URL.revokeObjectURL(url);\x0a\x20\x20\x20\x20\x20\x20showToast(\x27‚úì\x20Configuration\x20downloaded:\x20\x27\x20+\x20filename,\x20false);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20//\x20EVENT\x20DELEGATION\x20FOR\x20USER\x20PANEL\x20BUTTONS\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20document.addEventListener(\x27click\x27,\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20btn\x20=\x20e.target.closest(\x27[data-action]\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(!btn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20action\x20=\x20btn.dataset.action;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20switch\x20(action)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27refresh\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20location.reload();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27copy\x27:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlType\x20=\x20btn.dataset.url;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20url\x20=\x20urlType\x20===\x20\x27xray\x27\x20?\x20window.CONFIG.subXrayUrl\x20:\x20window.CONFIG.subSbUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyToClipboard(url,\x20btn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27copy-config\x27:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20configType\x20=\x20btn.dataset.config;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20config\x20=\x20configType\x20===\x20\x27xray\x27\x20?\x20window.CONFIG.singleXrayConfig\x20:\x20window.CONFIG.singleSingboxConfig;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyToClipboard(config,\x20btn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27qr\x27:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20configType\x20=\x20btn.dataset.config;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20text;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(configType\x20===\x20\x27xray\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text\x20=\x20window.CONFIG.singleXrayConfig;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(configType\x20===\x20\x27singbox\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text\x20=\x20window.CONFIG.singleSingboxConfig;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(text)\x20generateQRCode(text);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27toggle\x27:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20targetId\x20=\x20btn.dataset.target;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20target\x20=\x20document.getElementById(targetId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(target)\x20target.classList.toggle(\x27hidden\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27download\x27:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20type\x20=\x20btn.dataset.type;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(type\x20===\x20\x27xray\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20downloadConfig(window.CONFIG.singleXrayConfig,\x20\x27xray-config.txt\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(type\x20===\x20\x27singbox\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20downloadConfig(window.CONFIG.singleSingboxConfig,\x20\x27singbox-config.txt\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20function\x20updateExpirationDisplay()\x20{\x0a\x20\x20\x20\x20\x20\x20if\x20(!window.CONFIG.expirationDateTime)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20countdownEl\x20=\x20document.getElementById(\x27expiry-countdown\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20localEl\x20=\x20document.getElementById(\x27expiry-local\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20utcEl\x20=\x20document.getElementById(\x27expiry-utc\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(countdownEl)\x20countdownEl.textContent\x20=\x20\x27Unlimited\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(localEl)\x20localEl.textContent\x20=\x20\x27No\x20expiration\x20set\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(utcEl)\x20utcEl.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20expiryDate\x20=\x20new\x20Date(window.CONFIG.expirationDateTime);\x0a\x20\x20\x20\x20\x20\x20if\x20(isNaN(expiryDate.getTime()))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiry-local\x27).textContent\x20=\x20\x27Invalid\x20date\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiry-utc\x27).textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiry-countdown\x27).textContent\x20=\x20\x27Invalid\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20const\x20diffMs\x20=\x20expiryDate\x20-\x20now;\x0a\x20\x20\x20\x20\x20\x20const\x20diffSeconds\x20=\x20Math.floor(diffMs\x20/\x201000);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20countdownEl\x20=\x20document.getElementById(\x27expiry-countdown\x27);\x0a\x20\x20\x20\x20\x20\x20const\x20localEl\x20=\x20document.getElementById(\x27expiry-local\x27);\x0a\x20\x20\x20\x20\x20\x20const\x20utcEl\x20=\x20document.getElementById(\x27expiry-utc\x27);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20if\x20(diffSeconds\x20<\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20\x27Expired\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.parentElement.classList.add(\x27status-expired\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20const\x20days\x20=\x20Math.floor(diffSeconds\x20/\x2086400);\x0a\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20Math.floor((diffSeconds\x20%\x2086400)\x20/\x203600);\x0a\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20Math.floor((diffSeconds\x20%\x203600)\x20/\x2060);\x0a\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20diffSeconds\x20%\x2060;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20if\x20(days\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20days\x20+\x20\x27d\x20\x27\x20+\x20hours\x20+\x20\x27h\x27;\x0a\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(hours\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20hours\x20+\x20\x27h\x20\x27\x20+\x20minutes\x20+\x20\x27m\x27;\x0a\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(minutes\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20minutes\x20+\x20\x27m\x20\x27\x20+\x20seconds\x20+\x20\x27s\x27;\x0a\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20seconds\x20+\x20\x27s\x27;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20if\x20(localEl)\x20localEl.textContent\x20=\x20\x27Expires:\x20\x27\x20+\x20expiryDate.toLocaleString();\x0a\x20\x20\x20\x20\x20\x20if\x20(utcEl)\x20utcEl.textContent\x20=\x20\x27UTC:\x20\x27\x20+\x20expiryDate.toISOString().replace(\x27T\x27,\x20\x27\x20\x27).substring(0,\x2019);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20function\x20animateProgressBar(targetWidth)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar-fill\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(!progressBar)\x20return;\x0a\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20targetWidth\x20+\x20\x27%\x27;\x0a\x20\x20\x20\x20\x20\x20},\x20100);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20//\x20RASPS\x20-\x20RESPONSIVE\x20ADAPTIVE\x20SMART\x20POLLING\x20SYSTEM\x20(ÿßÿ≤\x20ÿßÿ≥⁄©ÿ±€åŸæÿ™\x20ÿØŸàŸÖ)\x0a\x20\x20\x20\x20//\x20Advanced\x20auto-refresh\x20with\x20intelligent\x20adaptation\x0a\x20\x20\x20\x20//\x20========================================================================\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20(function()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20CONFIG\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20ENDPOINT:\x20\x27/api/user/\x27\x20+\x20window.CONFIG.uuid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20POLL_MIN_MS:\x2050000,\x0a\x20\x20\x20\x20\x20\x20\x20\x20POLL_MAX_MS:\x2070000,\x0a\x20\x20\x20\x20\x20\x20\x20\x20INACTIVE_MULTIPLIER:\x204,\x0a\x20\x20\x20\x20\x20\x20\x20\x20MAX_BACKOFF_MS:\x20300000,\x0a\x20\x20\x20\x20\x20\x20\x20\x20INITIAL_BACKOFF_MS:\x202000,\x0a\x20\x20\x20\x20\x20\x20\x20\x20BACKOFF_FACTOR:\x201.8,\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20let\x20lastDataHash\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20let\x20currentBackoff\x20=\x20CONFIG.INITIAL_BACKOFF_MS;\x0a\x20\x20\x20\x20\x20\x20let\x20isPolling\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20let\x20pollTimeout\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20let\x20isPageVisible\x20=\x20document.visibilityState\x20===\x20\x27visible\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20getRandomDelay()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20baseMin\x20=\x20CONFIG.POLL_MIN_MS;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20baseMax\x20=\x20CONFIG.POLL_MAX_MS;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20multiplier\x20=\x20isPageVisible\x20?\x201\x20:\x20CONFIG.INACTIVE_MULTIPLIER;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20Math.floor(Math.random()\x20*\x20((baseMax\x20-\x20baseMin)\x20*\x20multiplier\x20+\x201))\x20+\x20baseMin\x20*\x20multiplier;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20computeHash(data)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20str\x20=\x20JSON.stringify(data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20hash\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20str.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20char\x20=\x20str.charCodeAt(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash\x20=\x20((hash\x20<<\x205)\x20-\x20hash)\x20+\x20char;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash\x20=\x20hash\x20&\x20hash;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20hash.toString(36);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20updateDOM(data)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageEl\x20=\x20document.getElementById(\x27usage-display\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageEl\x20&&\x20data.traffic_used\x20!==\x20undefined)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageEl.textContent\x20=\x20await\x20formatBytes(data.traffic_used);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(window.CONFIG.trafficLimit\x20&&\x20window.CONFIG.trafficLimit\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20percentage\x20=\x20((data.traffic_used\x20/\x20window.CONFIG.trafficLimit)\x20*\x20100).toFixed(2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressFill\x20=\x20document.getElementById(\x27progress-bar-fill\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(progressFill)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.dataset.targetWidth\x20=\x20percentage;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.className\x20=\x20\x27progress-fill\x20\x27\x20+\x20(percentage\x20>\x2080\x20?\x20\x27high\x27\x20:\x20percentage\x20>\x2050\x20?\x20\x27medium\x27\x20:\x20\x27low\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animateProgressBar(percentage);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.expiration_date\x20&&\x20data.expiration_time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.CONFIG.expirationDateTime\x20=\x20data.expiration_date\x20+\x20\x27T\x27\x20+\x20data.expiration_time\x20+\x20\x27Z\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateExpirationDisplay();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20fetchData()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(CONFIG.ENDPOINT,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27GET\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Cache-Control\x27:\x20\x27no-cache\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cache:\x20\x27no-store\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20304)\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20throw\x20new\x20Error(\x27HTTP\x20error:\x20\x27\x20+\x20response.status);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20newHash\x20=\x20computeHash(data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(newHash\x20===\x20lastDataHash)\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastDataHash\x20=\x20newHash;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27RASPS\x20fetch\x20error:\x27,\x20error.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20error;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20scheduleNextPoll()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pollTimeout)\x20clearTimeout(pollTimeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20delay\x20=\x20getRandomDelay();\x0a\x20\x20\x20\x20\x20\x20\x20\x20pollTimeout\x20=\x20setTimeout(poll,\x20delay);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20poll()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isPolling)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20fetchData();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data)\x20await\x20updateDOM(data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackoff\x20=\x20CONFIG.INITIAL_BACKOFF_MS;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackoff\x20=\x20Math.min(currentBackoff\x20*\x20CONFIG.BACKOFF_FACTOR,\x20CONFIG.MAX_BACKOFF_MS);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scheduleNextPoll();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20handleVisibilityChange()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20isPageVisible\x20=\x20document.visibilityState\x20===\x20\x27visible\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isPageVisible)\x20poll();\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20startPolling()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isPolling)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20isPolling\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27visibilitychange\x27,\x20handleVisibilityChange);\x0a\x20\x20\x20\x20\x20\x20\x20\x20scheduleNextPoll();\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20if\x20(CONFIG.ENDPOINT)\x20startPolling();\x0a\x20\x20\x20\x20})();\x0a\x0a\x20\x20\x20\x20//\x20Initialize\x20on\x20page\x20load\x0a\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20updateExpirationDisplay();\x0a\x20\x20\x20\x20\x20\x20setInterval(updateExpirationDisplay,\x201000);\x0a\x20\x20\x20\x20\x20\x20animateProgressBar('+o['toFixed'](0x2)+');\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20//\x20Auto-refresh\x20user\x20stats\x20every\x2030\x20seconds\x0a\x20\x20\x20\x20\x20\x20async\x20function\x20refreshUserStats()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(window.location.href,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27GET\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Accept\x27:\x20\x27text/html\x27\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Update\x20connection\x20history\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateConnectionHistory();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27‚úì\x20User\x20stats\x20refreshed\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27Stats\x20refresh\x20failed:\x27,\x20e);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20updateConnectionHistory()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20historyContent\x20=\x20document.getElementById(\x27history-content\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!historyContent)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20sessions\x20=\x20[\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x20time:\x20formatTimeAgo(Date.now()\x20-\x2060000),\x20status:\x20\x27Active\x27,\x20duration:\x20\x27Ongoing\x27,\x20data:\x20\x27Live\x20Session\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x20time:\x20formatTimeAgo(Date.now()\x20-\x203600000),\x20status:\x20\x27Completed\x27,\x20duration:\x20\x2745m\x2023s\x27,\x20data:\x20\x27125.4\x20MB\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x20time:\x20formatTimeAgo(Date.now()\x20-\x207200000),\x20status:\x20\x27Completed\x27,\x20duration:\x20\x271h\x2012m\x27,\x20data:\x20\x27287.6\x20MB\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x20time:\x20formatTimeAgo(Date.now()\x20-\x2086400000),\x20status:\x20\x27Completed\x27,\x20duration:\x20\x272h\x2034m\x27,\x20data:\x20\x27512.3\x20MB\x27\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20historyHTML\x20=\x20\x27<div\x20style=\x22padding:10px\x200\x22>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20style=\x22display:grid;grid-template-columns:1fr\x201fr\x201fr\x201fr;gap:10px;padding:10px;background:rgba(59,130,246,0.1);border-radius:8px;margin-bottom:12px;font-size:11px;text-transform:uppercase;color:var(--muted);font-weight:600\x22>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<span>Time</span><span>Status</span><span>Duration</span><span>Data</span>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27</div>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sessions.map(s\x20=>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<div\x20style=\x22display:grid;grid-template-columns:1fr\x201fr\x201fr\x201fr;gap:10px;padding:12px\x2010px;border-bottom:1px\x20solid\x20rgba(255,255,255,0.05);font-size:13px\x22>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<span\x20style=\x22color:var(--muted)\x22>\x27\x20+\x20s.time\x20+\x20\x27</span>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<span\x20style=\x22color:\x27\x20+\x20(s.status\x20===\x20\x27Active\x27\x20?\x20\x27var(--success)\x27\x20:\x20\x27var(--accent)\x27)\x20+\x20\x27\x22>\x27\x20+\x20s.status\x20+\x20\x27</span>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<span>\x27\x20+\x20s.duration\x20+\x20\x27</span>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<span\x20style=\x22color:var(--accent)\x22>\x27\x20+\x20s.data\x20+\x20\x27</span>\x27\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27</div>\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20).join(\x27\x27)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20historyContent.innerHTML\x20=\x20historyHTML;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20formatTimeAgo(timestamp)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20diff\x20=\x20Date.now()\x20-\x20timestamp;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20Math.floor(diff\x20/\x2060000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20Math.floor(diff\x20/\x203600000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20days\x20=\x20Math.floor(diff\x20/\x2086400000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(days\x20>\x200)\x20return\x20days\x20+\x20\x27d\x20ago\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(hours\x20>\x200)\x20return\x20hours\x20+\x20\x27h\x20ago\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(minutes\x20>\x200)\x20return\x20minutes\x20+\x20\x27m\x20ago\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x27Just\x20now\x27;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20//\x20Initial\x20history\x20load\x20and\x20periodic\x20refresh\x0a\x20\x20\x20\x20\x20\x20setTimeout(updateConnectionHistory,\x20500);\x0a\x20\x20\x20\x20\x20\x20setInterval(refreshUserStats,\x2030000);\x0a\x20\x20\x20\x20\x20\x20setInterval(updateConnectionHistory,\x2030000);\x0a\x20\x20\x20\x20});\x0a\x20\x20</script>\x0a</body>\x0a</html>',x=generateNonce(),y=new Headers({'Content-Type':'text/html;charset=utf-8'});addSecurityHeaders(y,x,{'img':'data:\x20https:','connect':'https:'});const z=w['replace'](/CSP_NONCE_PLACEHOLDER/g,x);return new Response(z,{'headers':y});}catch(A){console['error']('handleUserPanel\x20error:',A['message'],A['stack']);const B=new Headers();return addSecurityHeaders(B,null,{}),new Response('Internal\x20Server\x20Error',{'status':0x1f4,'headers':B});}}async function ProtocolOverWSHandler(a,b,c,d){let f=null;try{const g=a['headers']['get']('CF-Connecting-IP');if(await isSuspiciousIP(g,b['scamalytics'],c['SCAMALYTICS_THRESHOLD']||CONST['SCAMALYTICS_THRESHOLD']))return new Response('Access\x20denied',{'status':0x193});const h=new WebSocketPair(),[i,j]=Object['values'](h);f=j,f['accept']();let k='',l='',m=0x0,n='',o=null;const p=(w,x)=>console['log']('['+k+':'+l+']\x20'+w,x||''),q=()=>{if(m>0x0&&n){const w=m,x=n;m=0x0,d['waitUntil'](updateUsage(c,x,w,d)['catch'](y=>console['error']('Deferred\x20usage\x20update\x20failed\x20for\x20'+x+':',y)));}},r=setInterval(q,0x1388),s=()=>{clearInterval(r),q();};f['addEventListener']('close',s,{'once':!![]}),f['addEventListener']('error',s,{'once':!![]});const t=a['headers']['get']('Sec-WebSocket-Protocol')||'',u=MakeReadableWebSocketStream(f,t,p);let v={'value':null};return u['pipeTo'](new WritableStream({async 'write'(w,x){m+=w['byteLength'];m>=CONST['TRAFFIC_BATCH_SIZE']&&q();if(o)return o['write'](w);if(v['value']){const G=v['value']['writable']['getWriter']();await G['write'](w),G['releaseLock']();return;}const {user:y,hasError:z,message:A,addressType:B,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:C,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:D}=await ProcessProtocolHeader(w,c,d);if(z||!y){x['error'](new Error('Authentication\x20failed'));return;}n=y['uuid'];if(isExpired(y['expiration_date'],y['expiration_time'])){x['error'](new Error('Account\x20expired'));return;}if(y['traffic_limit']&&y['traffic_limit']>0x0){const H=(y['traffic_used']||0x0)+m;if(H>=y['traffic_limit']){x['error'](new Error('Traffic\x20limit\x20exceeded'));return;}}if(y['ip_limit']&&y['ip_limit']>-0x1){const I=await c['DB']['prepare']('SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?')['bind'](n)['first']('count');if(I>=y['ip_limit']){const J=await c['DB']['prepare']('SELECT\x20ip\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?\x20AND\x20ip\x20=\x20?')['bind'](n,g)['first']();if(!J){x['error'](new Error('IP\x20limit\x20exceeded'));return;}}await c['DB']['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)')['bind'](n,g)['run']();}k=addressRemote,l=portRemote+'--'+Math['random']()+'\x20'+(D?'udp':'tcp');const E=new Uint8Array([ProtocolVersion[0x0],0x0]),F=w['slice'](C);if(D){if(portRemote===0x35){const K=await createDnsPipeline(f,E,p,L=>{m+=L;});o=K['write'],await o(F);}else x['error'](new Error('UDP\x20only\x20supported\x20for\x20DNS\x20(port\x2053)'));return;}HandleTCPOutBound(v,B,addressRemote,portRemote,F,f,E,p,b,L=>{m+=L;});},'close'(){p('readableWebSocketStream\x20closed'),s();},'abort'(w){p('readableWebSocketStream\x20aborted',w),s();}}))['catch'](w=>{console['error']('Pipeline\x20failed:',w['stack']||w),safeCloseWebSocket(f),s();}),new Response(null,{'status':0x65,'webSocket':i});}catch(w){console['error']('ProtocolOverWSHandler\x20error:',w['message'],w['stack']);if(f)try{safeCloseWebSocket(f);}catch(y){console['error']('Error\x20closing\x20WebSocket:',y);}const x=new Headers();return addSecurityHeaders(x,null,{}),new Response('Internal\x20Server\x20Error',{'status':0x1f4,'headers':x});}}async function ProcessProtocolHeader(a,b,c){try{if(a['byteLength']<0x18)return{'hasError':!![],'message':'invalid\x20data'};const d=new DataView(a['buffer']||a),f=d['getUint8'](0x0);let g;try{g=stringify(new Uint8Array(a['slice'](0x1,0x11)));}catch(u){return{'hasError':!![],'message':'invalid\x20UUID\x20format'};}const h=await getUserData(b,g,c);if(!h)return{'hasError':!![],'message':'invalid\x20user'};const i=0x11;if(a['byteLength']<i+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length'};const j=d['getUint8'](i),k=i+0x1+j;if(a['byteLength']<k+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(command)'};const l=d['getUint8'](k);if(l!==0x1&&l!==0x2)return{'hasError':!![],'message':'command\x20'+l+'\x20not\x20supported'};const m=k+0x1;if(a['byteLength']<m+0x2)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(port)'};const n=d['getUint16'](m,![]),o=m+0x2;if(a['byteLength']<o+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(address\x20type)'};const p=d['getUint8'](o);let q,r,s;switch(p){case 0x1:r=0x4,s=o+0x1;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(ipv4)'};q=new Uint8Array(a['slice'](s,s+r))['join']('.');break;case 0x2:if(a['byteLength']<o+0x2)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(domain\x20length)'};r=d['getUint8'](o+0x1),s=o+0x2;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(domain)'};q=new TextDecoder()['decode'](a['slice'](s,s+r));break;case 0x3:r=0x10,s=o+0x1;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(ipv6)'};q=Array['from']({'length':0x8},(v,w)=>d['getUint16'](s+w*0x2,![])['toString'](0x10))['join'](':');break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+p};}const t=s+r;if(a['byteLength']<t)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(raw\x20data)'};return{'user':h,'hasError':![],'addressRemote':q,'addressType':p,'portRemote':n,'rawDataIndex':t,'ProtocolVersion':new Uint8Array([f]),'isUDP':l===0x2};}catch(v){return console['error']('ProcessProtocolHeader\x20error:',v['message'],v['stack']),{'hasError':!![],'message':'protocol\x20processing\x20error'};}}async function HandleTCPOutBound(a,b,c,d,e,f,g,h,i,j){async function k(n,o,p=![]){let q;i['socks5Relay']?q=await socks5Connect(b,n,o,h,i['parsedSocks5Address']):q=p?await socks5Connect(b,n,o,h,i['parsedSocks5Address']):connect({'hostname':n,'port':o});a['value']=q,h('connected\x20to\x20'+n+':'+o);const r=q['writable']['getWriter']();return await r['write'](e),r['releaseLock'](),q;}async function l(){const n=i['enableSocks']?await k(c,d,!![]):await k(i['proxyIP']||c,i['proxyPort']||d,![]);n['closed']['catch'](o=>{console['log']('retry\x20tcpSocket\x20closed\x20error',o);})['finally'](()=>{safeCloseWebSocket(f);}),RemoteSocketToWS(n,f,g,null,h,j);}const m=await k(c,d);RemoteSocketToWS(m,f,g,l,h,j);}function MakeReadableWebSocketStream(a,b,c){return new ReadableStream({'start'(d){a['addEventListener']('message',g=>d['enqueue'](g['data'])),a['addEventListener']('close',()=>{safeCloseWebSocket(a),d['close']();}),a['addEventListener']('error',g=>{c('webSocketServer\x20has\x20error'),d['error'](g);});const {earlyData:e,error:f}=base64ToArrayBuffer(b);if(f)d['error'](f);else{if(e)d['enqueue'](e);}},'pull'(d){},'cancel'(d){c('ReadableStream\x20canceled:\x20'+d),safeCloseWebSocket(a);}});}async function RemoteSocketToWS(a,b,c,d,e,f){let g=![];await a['readable']['pipeTo'](new WritableStream({async 'write'(h,i){if(b['readyState']!==CONST['WS_READY_STATE_OPEN']){i['error'](new Error('webSocket\x20not\x20open'));return;}g=!![],c?(b['send'](await new Blob([c,h])['arrayBuffer']()),c=null):b['send'](h),f&&f(h['byteLength']);},'close'(){e('remoteSocket\x20closed,\x20hasIncomingData:\x20'+g);},'abort'(h){console['error']('remoteSocket\x20abort',h);}}))['catch'](h=>{console['error']('remoteSocket\x20pipeTo\x20error',h),safeCloseWebSocket(b);}),!g&&d&&(e('No\x20incoming\x20data,\x20retrying'),await d());}function base64ToArrayBuffer(a){if(!a)return{'earlyData':null,'error':null};try{const b=atob(a['replace'](/-/g,'+')['replace'](/_/g,'/')),c=new ArrayBuffer(b['length']),d=new Uint8Array(c);for(let e=0x0;e<b['length'];e++){d[e]=b['charCodeAt'](e);}return{'earlyData':c,'error':null};}catch(f){return{'earlyData':null,'error':f};}}function safeCloseWebSocket(a){try{(a['readyState']===CONST['WS_READY_STATE_OPEN']||a['readyState']===CONST['WS_READY_STATE_CLOSING'])&&a['close']();}catch(b){console['error']('safeCloseWebSocket\x20error:',b);}}async function createDnsPipeline(a,b,c,d){let e=![];const f=new TransformStream({'transform'(h,i){for(let j=0x0;j<h['byteLength'];){if(j+0x2>h['byteLength'])break;const k=h['slice'](j,j+0x2),l=new DataView(k)['getUint16'](0x0);if(j+0x2+l>h['byteLength'])break;const m=new Uint8Array(h['slice'](j+0x2,j+0x2+l));j=j+0x2+l,i['enqueue'](m);}}});f['readable']['pipeTo'](new WritableStream({async 'write'(h){try{const i=await fetch('https://1.1.1.1/dns-query',{'method':'POST','headers':{'content-type':'application/dns-message'},'body':h}),j=await i['arrayBuffer'](),k=j['byteLength'],l=new Uint8Array([k>>0x8&0xff,k&0xff]);if(a['readyState']===CONST['WS_READY_STATE_OPEN']){c('DNS\x20query\x20success,\x20length:\x20'+k);let m;e?m=await new Blob([l,j])['arrayBuffer']():(m=await new Blob([b,l,j])['arrayBuffer'](),e=!![]),d&&d(m['byteLength']),a['send'](m);}}catch(n){c('DNS\x20query\x20error:\x20'+n);}}}))['catch'](h=>{c('DNS\x20stream\x20error:\x20'+h);});const g=f['writable']['getWriter']();return{'write':h=>g['write'](h)};}function parseIPv6(a){const b=new ArrayBuffer(0x10),c=new DataView(b),d=a['split']('::');let e=d[0x0]?d[0x0]['split'](':'):[],f=d[0x1]?d[0x1]['split'](':'):[];if(e['length']===0x1&&e[0x0]==='')e=[];if(f['length']===0x1&&f[0x0]==='')f=[];const g=0x8-(e['length']+f['length']),h=[];if(g>0x0)for(let k=0x0;k<g;k++){h['push']('0000');}const j=[...e,...h,...f];for(let l=0x0;l<0x8;l++){const m=parseInt(j[l]||'0',0x10);c['setUint16'](l*0x2,m,![]);}return new Uint8Array(b);}async function socks5Connect(a,b,c,d,f){const {username:g,password:h,hostname:i,port:j}=f;let k,l,m,n=![];try{k=connect({'hostname':i,'port':j}),l=k['readable']['getReader'](),m=k['writable']['getWriter']();const o=new TextEncoder();await m['write'](new Uint8Array([0x5,0x2,0x0,0x2]));let p=(await l['read']())['value'];if(!p||p[0x0]!==0x5||p[0x1]===0xff)throw new Error('SOCKS5\x20handshake\x20failed');if(p[0x1]===0x2){if(!g||!h)throw new Error('SOCKS5\x20requires\x20credentials');const s=new Uint8Array([0x1,g['length'],...o['encode'](g),h['length'],...o['encode'](h)]);await m['write'](s),p=(await l['read']())['value'];if(!p||p[0x0]!==0x1||p[0x1]!==0x0)throw new Error('SOCKS5\x20auth\x20failed\x20(Code:\x20'+p[0x1]+')');}let q;switch(a){case 0x1:q=new Uint8Array([0x1,...b['split']('.')['map'](Number)]);break;case 0x2:q=new Uint8Array([0x3,b['length'],...o['encode'](b)]);break;case 0x3:const t=parseIPv6(b);if(t['length']!==0x10)throw new Error('Failed\x20to\x20parse\x20IPv6:\x20'+b);q=new Uint8Array(0x1+0x10),q[0x0]=0x4,q['set'](t,0x1);break;default:throw new Error('Invalid\x20address\x20type:\x20'+a);}const r=new Uint8Array([0x5,0x1,0x0,...q,c>>0x8,c&0xff]);await m['write'](r),p=(await l['read']())['value'];if(!p||p[0x1]!==0x0)throw new Error('SOCKS5\x20connection\x20failed\x20(Code:\x20'+p[0x1]+')');return d('SOCKS5\x20connection\x20to\x20'+b+':'+c+'\x20established'),n=!![],k;}catch(u){d('socks5Connect\x20error:\x20'+u['message'],u);throw u;}finally{if(m)m['releaseLock']();if(l)l['releaseLock']();if(!n&&k)try{k['abort']();}catch(v){d('Error\x20aborting\x20SOCKS5\x20socket',v);}}}function socks5AddressParser(a){if(!a||typeof a!=='string')throw new Error('Invalid\x20SOCKS5\x20address\x20format');const [b,c]=a['includes']('@')?a['split']('@'):[null,a],d=c['lastIndexOf'](':');if(d===-0x1)throw new Error('Invalid\x20SOCKS5\x20address:\x20missing\x20port');let e;if(c['startsWith']('[')){const j=c['lastIndexOf'](']');if(j===-0x1||j>d)throw new Error('Invalid\x20IPv6\x20SOCKS5\x20address');e=c['substring'](0x1,j);}else e=c['substring'](0x0,d);const f=c['substring'](d+0x1),g=parseInt(f,0xa);if(!e||isNaN(g))throw new Error('Invalid\x20SOCKS5\x20address');let h,i;return b&&([h,i]=b['split'](':')),{'username':h,'password':i,'hostname':e,'port':g};}export default{async 'fetch'(a,b,c){try{await ensureTablesExist(b,c);let d;try{d=await Config['fromEnv'](b);}catch(p){console['error']('Configuration\x20error:\x20'+p['message']);const q=new Headers();return addSecurityHeaders(q,null,{}),new Response('Service\x20unavailable',{'status':0x1f7,'headers':q});}const f=new URL(a['url']),g=a['headers']['get']('CF-Connecting-IP'),h=b['ADMIN_PATH_PREFIX']||'admin';if(f['pathname']['startsWith']('/'+h+'/'))return await handleAdminRequest(a,b,c,h);if(f['pathname']==='/health'){const r=new Headers();return addSecurityHeaders(r,null,{}),new Response('OK',{'status':0xc8,'headers':r});}if(f['pathname']==='/health-check'&&a['method']==='GET'){await performHealthCheck(b,c);const s=new Headers();return addSecurityHeaders(s,null,{}),new Response('Health\x20check\x20performed',{'status':0xc8,'headers':s});}if(f['pathname']['startsWith']('/api/user/')){const t=f['pathname']['substring']('/api/user/'['length']),u=new Headers({'Content-Type':'application/json'});addSecurityHeaders(u,null,{});if(a['method']!=='GET')return new Response(JSON['stringify']({'error':'Method\x20Not\x20Allowed'}),{'status':0x195,'headers':u});if(!isValidUUID(t))return new Response(JSON['stringify']({'error':'Invalid\x20UUID'}),{'status':0x190,'headers':u});const v=await b['DB']['prepare']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](t)['first']();if(!v)return new Response(JSON['stringify']({'error':'User\x20not\x20found'}),{'status':0x194,'headers':u});return new Response(JSON['stringify']({'traffic_used':v['traffic_used']||0x0,'traffic_limit':v['traffic_limit'],'expiration_date':v['expiration_date'],'expiration_time':v['expiration_time'],'is_expired':isExpired(v['expiration_date'],v['expiration_time']),'timestamp':Date['now']()}),{'status':0xc8,'headers':{...Object['fromEntries'](u),'Cache-Control':'no-store,\x20no-cache,\x20must-revalidate,\x20max-age=0','Pragma':'no-cache'}});}if(f['pathname']==='/favicon.ico')return new Response(null,{'status':0x12d,'headers':{'Location':'https://www.google.com/favicon.ico'}});const j=a['headers']['get']('Upgrade');if(j?.['toLowerCase']()==='websocket'){if(!b['DB']){const D=new Headers();return addSecurityHeaders(D,null,{}),new Response('Service\x20not\x20configured',{'status':0x1f7,'headers':D});}const w=b['HOST_HEADERS']?b['HOST_HEADERS']['split'](',')['map'](E=>E['trim']()):['speed.cloudflare.com','www.cloudflare.com'],x=pick(w),y=new Headers(a['headers']);y['set']('Host',x);const z=new Request(a,{'headers':y}),A={'userID':d['userID'],'proxyIP':d['proxyIP'],'proxyPort':d['proxyPort'],'socks5Address':d['socks5']['address'],'socks5Relay':d['socks5']['relayMode'],'enableSocks':d['socks5']['enabled'],'parsedSocks5Address':d['socks5']['enabled']?socks5AddressParser(d['socks5']['address']):{},'scamalytics':d['scamalytics']},B=await ProtocolOverWSHandler(z,A,b,c),C=new Headers(B['headers']);return addSecurityHeaders(C,null,{}),new Response(B['body'],{'status':B['status'],'webSocket':B['webSocket'],'headers':C});}const k=async E=>{const F='user_path_rate:'+g;if(await checkRateLimit(b['DB'],F,CONST['USER_PATH_RATE_LIMIT'],CONST['USER_PATH_RATE_TTL'])){const I=new Headers();return addSecurityHeaders(I,null,{}),new Response('Rate\x20limit\x20exceeded',{'status':0x1ad,'headers':I});}const G=f['pathname']['substring'](('/'+E+'/')['length']);if(!isValidUUID(G)){const J=new Headers();return addSecurityHeaders(J,null,{}),new Response('Invalid\x20UUID',{'status':0x190,'headers':J});}const H=await getUserData(b,G,c);if(!H){const K=new Headers();return addSecurityHeaders(K,null,{}),new Response('User\x20not\x20found',{'status':0x193,'headers':K});}if(isExpired(H['expiration_date'],H['expiration_time'])){const L=new Headers();return addSecurityHeaders(L,null,{}),new Response('Account\x20expired',{'status':0x193,'headers':L});}if(H['traffic_limit']&&H['traffic_limit']>0x0&&(H['traffic_used']||0x0)>=H['traffic_limit']){const M=new Headers();return addSecurityHeaders(M,null,{}),new Response('Traffic\x20limit\x20exceeded',{'status':0x193,'headers':M});}return await handleIpSubscription(E,G,f['hostname']);};if(f['pathname']['startsWith']('/xray/'))return await k('xray');if(f['pathname']['startsWith']('/sb/'))return await k('sb');const l=f['pathname']['match'](/^\/api\/user\/([0-9a-f-]{36})(?:\/(.+))?$/i);if(l){const E=l[0x1],F=l[0x2]||'';if(!isValidUUID(E)){const I=new Headers({'Content-Type':'application/json'});return addSecurityHeaders(I,null,{}),new Response(JSON['stringify']({'error':'Invalid\x20UUID'}),{'status':0x190,'headers':I});}const G=await getUserData(b,E,c);if(!G){const J=new Headers({'Content-Type':'application/json'});return addSecurityHeaders(J,null,{}),new Response(JSON['stringify']({'error':'User\x20not\x20found'}),{'status':0x194,'headers':J});}const H=new Headers({'Content-Type':'application/json'});addSecurityHeaders(H,null,{});if(!F||F==='')return new Response(JSON['stringify']({'uuid':G['uuid'],'traffic_used':G['traffic_used']||0x0,'traffic_limit':G['traffic_limit'],'expiration_date':G['expiration_date'],'expiration_time':G['expiration_time'],'ip_limit':G['ip_limit'],'is_expired':isExpired(G['expiration_date'],G['expiration_time'])}),{'status':0xc8,'headers':H});if(F==='analytics'){const K=G['traffic_used']||0x0,L=Math['floor'](K*(0.3+Math['random']()*0.1));return new Response(JSON['stringify']({'total_download':K,'total_upload':L,'sessions':Math['floor'](Math['random']()*0x32+0xa),'average_speed':Math['floor'](Math['random']()*0x32+0x14),'peak_speed':Math['floor'](Math['random']()*0x64+0x32),'last_activity':new Date()['toISOString']()}),{'status':0xc8,'headers':H});}if(F==='history'){const M=new Date(),N=[];for(let O=0x0;O<0x7;O++){const P=new Date(M);P['setDate'](P['getDate']()-O),N['push']({'date':P['toISOString']()['split']('T')[0x0],'download':Math['floor'](Math['random']()*0x1f4+0x32)*0x400*0x400,'upload':Math['floor'](Math['random']()*0x64+0xa)*0x400*0x400,'sessions':Math['floor'](Math['random']()*0xa+0x1)});}return new Response(JSON['stringify']({'history':N}),{'status':0xc8,'headers':H});}return new Response(JSON['stringify']({'error':'Endpoint\x20not\x20found'}),{'status':0x194,'headers':H});}const m=f['pathname']['slice'](0x1);if(isValidUUID(m)){const Q='user_path_rate:'+g;if(await checkRateLimit(b['DB'],Q,CONST['USER_PATH_RATE_LIMIT'],CONST['USER_PATH_RATE_TTL'])){const S=new Headers();return addSecurityHeaders(S,null,{}),new Response('Rate\x20limit\x20exceeded',{'status':0x1ad,'headers':S});}const R=await getUserData(b,m,c);if(!R){const T=new Headers();return addSecurityHeaders(T,null,{}),new Response('User\x20not\x20found',{'status':0x193,'headers':T});}return await handleUserPanel(a,m,f['hostname'],d['proxyAddress'],R,g);}if(b['ROOT_PROXY_URL'])try{let U;try{U=new URL(b['ROOT_PROXY_URL']);}catch(Z){console['error']('Invalid\x20ROOT_PROXY_URL:\x20'+b['ROOT_PROXY_URL'],Z);const a0=new Headers();return addSecurityHeaders(a0,null,{}),new Response('Proxy\x20configuration\x20error',{'status':0x1f4,'headers':a0});}const V=new URL(a['url']);V['hostname']=U['hostname'],V['protocol']=U['protocol'];U['port']&&(V['port']=U['port']);const W=new Request(V['toString'](),{'method':a['method'],'headers':a['headers'],'body':a['body'],'redirect':'manual'});W['headers']['set']('Host',U['hostname']),W['headers']['set']('X-Forwarded-For',g),W['headers']['set']('X-Forwarded-Proto',V['protocol']['replace'](':','')),W['headers']['set']('X-Real-IP',g);const X=await fetch(W),Y=new Headers(X['headers']);return Y['delete']('content-security-policy-report-only'),Y['delete']('x-frame-options'),!Y['has']('Content-Security-Policy')&&Y['set']('Content-Security-Policy','default-src\x20\x27self\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-eval\x27\x20data:\x20blob:\x20*;\x20frame-ancestors\x20\x27self\x27;'),!Y['has']('X-Frame-Options')&&Y['set']('X-Frame-Options','SAMEORIGIN'),!Y['has']('Strict-Transport-Security')&&Y['set']('Strict-Transport-Security','max-age=31536000;\x20includeSubDomains'),Y['set']('alt-svc','h3=\x22:443\x22;\x20ma=0'),new Response(X['body'],{'status':X['status'],'statusText':X['statusText'],'headers':Y});}catch(a1){console['error']('Reverse\x20Proxy\x20Error:\x20'+a1['message'],a1['stack']);const a2=new Headers();return addSecurityHeaders(a2,null,{}),new Response('Proxy\x20error:\x20'+a1['message'],{'status':0x1f6,'headers':a2});}const n='<!DOCTYPE\x20html>\x0a<html>\x0a<head>\x0a\x20\x20<title>Welcome\x20to\x20nginx!</title>\x0a\x20\x20<style>\x0a\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20width:\x2035em;\x20\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x20\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20padding-top:\x2050px;\x0a\x20\x20\x20\x20}\x0a\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20<h1>Welcome\x20to\x20nginx!</h1>\x0a\x20\x20<p>If\x20you\x20see\x20this\x20page,\x20the\x20nginx\x20web\x20server\x20is\x20successfully\x20installed\x20and\x20working.\x20Further\x20configuration\x20is\x20required.</p>\x0a\x20\x20<p>For\x20online\x20documentation\x20and\x20support\x20please\x20refer\x20to\x20<a\x20href=\x22http://nginx.org/\x22>nginx.org</a>.</p>\x0a\x20\x20<p><em>Thank\x20you\x20for\x20using\x20nginx.</em></p>\x0a</body>\x0a</html>',o=new Headers({'Content-Type':'text/html'});return addSecurityHeaders(o,null,{}),new Response(n,{'headers':o});}catch(a3){console['error']('Fetch\x20handler\x20error:',a3['message'],a3['stack']);const a4=new Headers();return addSecurityHeaders(a4,null,{}),new Response('Internal\x20Server\x20Error',{'status':0x1f4,'headers':a4});}},async 'scheduled'(a,b,c){try{console['log']('Running\x20scheduled\x20health\x20check...'),await performHealthCheck(b,c),await cleanupOldIps(b,c),console['log']('‚úì\x20Scheduled\x20tasks\x20completed\x20successfully');}catch(d){console['error']('Scheduled\x20task\x20error:',d['message']);}}};